Version 17
CONSTANTS 2
dtSim = 1.
dtSimFile = 1.
CONSTANTS 3
FrInte_Tol = 0.003
FrConv_Tol = 0.001
PI = 3.1415927
EQUATIONS 3
START = 0            !744  !4350   ! 744
STOP  = 5 !END
Nix = 0.0
SIMULATION START STOP dtSim
TOLERANCES    FrInte_Tol  FrConv_Tol
LIMITS 30 2000 25                 ! Max iterations   Max warnings    Trace limit      ! Limit of Iterations, limit of warnings, limit of calls to a component before it will be traced
DFQ 1      ! TRNSYS numerical integration solver method
WIDTH 132          ! TRNSYS output file width, number of characters
LIST             ! NOLIST statement
! MAP statement
SOLVER 0 1 1      ! Solver statement, Minimum relaxation factor, Maximum relaxation factor
NAN_CHECK 0     ! Nan DEBUG statement
OVERWRITE_CHECK 0     ! Overwrite DEBUG statement
EQSOLVER 0     ! EQUATION SOLVER statement
TIME_REPORT 1  ! 1 time report is used 0 is not used
EQUATIONS 3
 rhoWat=1000
 cpWat=4200
 tRoomStore=20
EQUATIONS 8
 *** Black box component temperatures
TKollektor6=1 
TPump9=1 
TStorageTank13PortLeft80=1
TStorageTank13PortRight80=1
TStorageTank13PortLeft9=1
TStorageTank13PortRight9=1
TRadiator33=1 
TPump36=1 
EQUATIONS 2
*** Pump outlet temperatures
TPump9 = TUntitledConn4
TPump36 = TUntitledConn7
EQUATIONS 2

*** Massflowrates
MfrPump9 = 1000
MfrPump36 = 1000
UNIT 450 TYPE 935
PARAMETERS 49
12
10 18 0 0           !2 : Kollektor6
10 17 0 1           !3 : Pump9
2 3 0 0             !10 : UntitledConn3
16 21 0 0           !13 : Radiator33
20 16 0 1           !14 : Pump36
14 13 0 0           !16 : UntitledConn7
17 18 0 0           !16 : ConnectorTesStorageTank13L26
3 16 0 0            !17 : UntitledConn4
2 16 0 0            !18 : UntitledConn5
20 21 0 0           !19 : ConnectorTesStorageTank13R35
14 19 0 0           !20 : UntitledConn6
13 19 0 0           !21 : UntitledConn8

INPUTS 12
 0,0  MfrPump9  0,0  0,0  MfrPump36  0,0  0,0  0,0  0,0  0,0 
 0,0  0,0 

*** Initial Inputs *
-1 0.0 -1 -1 0.0 -1 -1 -1 -1 
-1 -1 -1 
EQUATIONS 24	!! Output up to three (A,B,C) mass flow rates of each component, positive = input/inlet, negative = output/outlet 
MfrKollektor6_A=[450,1]
MfrKollektor6_B=[450,2]
MfrPump9_A=[450,3]
MfrPump9_B=[450,4]
MfrUntitledConn3_A=[450,5]
MfrUntitledConn3_B=[450,6]
MfrRadiator33_A=[450,7]
MfrRadiator33_B=[450,8]
MfrPump36_A=[450,9]
MfrPump36_B=[450,10]
MfrUntitledConn7_A=[450,11]
MfrUntitledConn7_B=[450,12]
MfrConnectorTesStorageTank13L26_A=[450,13]
MfrConnectorTesStorageTank13L26_B=[450,14]
MfrUntitledConn4_A=[450,15]
MfrUntitledConn4_B=[450,16]
MfrUntitledConn5_A=[450,17]
MfrUntitledConn5_B=[450,18]
MfrConnectorTesStorageTank13R35_A=[450,19]
MfrConnectorTesStorageTank13R35_B=[450,20]
MfrUntitledConn6_A=[450,21]
MfrUntitledConn6_B=[450,22]
MfrUntitledConn8_A=[450,23]
MfrUntitledConn8_B=[450,24]


UNIT451 TYPE 931
!UntitledConn4
PARAMETERS 6
diUntitledConn4
LUntitledConn4
UUntitledConn4
RhoWat
CPWat
20
INPUTS 4
TPump9
MfrUntitledConn4_A
TRoomStore
TConnectorTesStorageTank13L26
***Initial values
20 0.0 20 20

EQUATIONS 3
TUntitledConn4= [451,1]
PUntitledConn4_kW= [451,3]/3600 !kW
MfrUntitledConn4= MfrUntitledConn4_A
UNIT452 TYPE 931
!UntitledConn5
PARAMETERS 6
diUntitledConn5
LUntitledConn5
UUntitledConn5
RhoWat
CPWat
20
INPUTS 4
TKollektor6
MfrUntitledConn5_A
TRoomStore
TConnectorTesStorageTank13L26
***Initial values
20 0.0 20 20

EQUATIONS 3
TUntitledConn5= [452,1]
PUntitledConn5_kW= [452,3]/3600 !kW
MfrUntitledConn5= MfrUntitledConn5_A
UNIT453 TYPE 931
!UntitledConn6
PARAMETERS 6
diUntitledConn6
LUntitledConn6
UUntitledConn6
RhoWat
CPWat
20
INPUTS 4
TPump36
MfrUntitledConn6_A
TRoomStore
TConnectorTesStorageTank13R35
***Initial values
20 0.0 20 20

EQUATIONS 3
TUntitledConn6= [453,1]
PUntitledConn6_kW= [453,3]/3600 !kW
MfrUntitledConn6= MfrUntitledConn6_A
UNIT454 TYPE 931
!UntitledConn8
PARAMETERS 6
diUntitledConn8
LUntitledConn8
UUntitledConn8
RhoWat
CPWat
20
INPUTS 4
TRadiator33
MfrUntitledConn8_A
TRoomStore
TConnectorTesStorageTank13R35
***Initial values
20 0.0 20 20

EQUATIONS 3
TUntitledConn8= [454,1]
PUntitledConn8_kW= [454,3]/3600 !kW
MfrUntitledConn8= MfrUntitledConn8_A
CONSTANTS 8
** Fluid Loop : defaultGroup
di_loop_0=0.2
L_loop_0=2
U_loop_0=10
L_loop_0_save = Mfr_loop_0_nom*dtSim/rhoWat/((di_loop_0/2)^2*3.14
U_loop_0_save = 10*L_loop_0_save

EQUATIONS 36
** Fluid Loop : defaultGroup
**di_loop_0=0.2
**L_loop_0=2
**U_loop_0=10
*** UntitledConn1
diUntitledConn1=di_loop_0
LUntitledConn1=L_loop_0
UUntitledConn1=U_loop_0
*** UntitledConn2
diUntitledConn2=di_loop_0
LUntitledConn2=L_loop_0
UUntitledConn2=U_loop_0
*** UntitledConn3
diUntitledConn3=di_loop_0
LUntitledConn3=L_loop_0
UUntitledConn3=U_loop_0
*** UntitledConn4
diUntitledConn4=di_loop_0
LUntitledConn4=L_loop_0
UUntitledConn4=U_loop_0
*** UntitledConn5
diUntitledConn5=di_loop_0
LUntitledConn5=L_loop_0
UUntitledConn5=U_loop_0
*** UntitledConn6
diUntitledConn6=di_loop_0
LUntitledConn6=L_loop_0
UUntitledConn6=U_loop_0
*** UntitledConn7
diUntitledConn7=di_loop_0
LUntitledConn7=L_loop_0
UUntitledConn7=U_loop_0
*** UntitledConn8
diUntitledConn8=di_loop_0
LUntitledConn8=L_loop_0
UUntitledConn8=U_loop_0
*** UntitledConn4
diUntitledConn4=di_loop_0
LUntitledConn4=L_loop_0
UUntitledConn4=U_loop_0
*** UntitledConn5
diUntitledConn5=di_loop_0
LUntitledConn5=L_loop_0
UUntitledConn5=U_loop_0
*** UntitledConn6
diUntitledConn6=di_loop_0
LUntitledConn6=L_loop_0
UUntitledConn6=U_loop_0
*** UntitledConn8
diUntitledConn8=di_loop_0
LUntitledConn8=L_loop_0
UUntitledConn8=U_loop_0


PipeLoss0=PUntitledConn1_kW+PUntitledConn2_kW+PUntitledConn3_kW+PUntitledConn4_kW+PUntitledConn5_kW+PUntitledConn6_kW+PUntitledConn7_kW+PUntitledConn8_kW+PUntitledConn4_kW+PUntitledConn5_kW+PUntitledConn6_kW+PUntitledConn8_kW
PipeLossTotal=PipeLoss0
