Version 17
CONSTANTS 2
dtSim = 1.
dtSimFile = 1.
CONSTANTS 3
 FrInte_Tol = 0.003
FrConv_Tol = 0.001
 PI = 3.1415927
 EQUATIONS 3
START = 0            !744  !4350   ! 744
STOP  = 5 !END
Nix = 0.0
SIMULATION START STOP dtSim
TOLERANCES    FrInte_Tol  FrConv_Tol
LIMITS 30 2000 25                 ! Max iterations   Max warnings    Trace limit      ! Limit of Iterations, limit of warnings, limit of calls to a component before it will be traced
DFQ 1      ! TRNSYS numerical integration solver method
WIDTH 132          ! TRNSYS output file width, number of characters
LIST             ! NOLIST statement
! MAP statement
SOLVER 0 1 1      ! Solver statement, Minimum relaxation factor, Maximum relaxation factor
NAN_CHECK 0     ! Nan DEBUG statement
OVERWRITE_CHECK 0     ! Overwrite DEBUG statement
EQSOLVER 0     ! EQUATION SOLVER statement
TIME_REPORT 1  ! 1 time report is used 0 is not used
EQUATIONS 3
 rhoWat=1000
 cpWat=4200
 tRoomStore=20
 *** Black box component temperatures
EQUATIONS 14
TColl=1
TEvapHp=1
THp=1
TRadiatorSH=1
TIceHX_1=1
TStutzen1T0=1
TStutzen2T0=1
TStutzen3T0=1
TStutzen4T0=1
TStutzen5T0=1
TStutzen7T0=1
TStutzen10T0=1
TCoilHX_1=1
TCoilHX_4=1
*** Pump outlet temperatures
EQUATIONS 7
TPuCol = TPiColPuIn
TPuHpEvap = TPiHpEvapOut
TPuHpCond = TPiHPInPu
TPuSH = TPiSHOutMix
TDHW = TPiDHWDemand
TCW = 10 ! Change temperature from the mains
TPuCirc = TPiInPuCirc

EQUATIONS 14	!Definition of mass flows and fractions
MfrPuCol= 1000
xFracMixHxTes=1
xFracDivHpEvap=1
MfrPuHpEvap= 1000
xFracDivHp=1
MfrPuHpCond= 1000
xFracDivHpRt=1
xFracMixCirc=1
MfrPuSH= 1000
xFracDivSH=1
MfrDHW= 0 ! Not used
MfrCW= 1000
MfrPuCirc= 1000
xFracMixDhw=1UNIT 450 TYPE 935
PARAMETERS 45
11
15 0 1              !6 : Pump12
18 0 1              !7 : Pump15
19 0 1              !8 : Pump18
16 0 1              !9 : Pump21
15 16 20 2          !14 : TeePiece36
6 14 0 0            !15 : UntitledConn3
14 9 0 0            !16 : UntitledConn6
18 19 20 2          !17 : TeePiece46
7 17 0 0            !18 : UntitledConn4
17 8 0 0            !19 : UntitledConn5
17 14 0 0           !20 : PiTesLStorageTank1_11

INPUTS 11
 MfrPump12  MfrPump15  MfrPump18  MfrPump21  0,0  0,0  0,0  0,0  0,0  0,0 
 0,0 

*** Initial Inputs *
0.0 0.0 0.0 0.0 -1 -1 -1 -1 -1 
-1 -1 
EQUATIONS 24	!! Output up to three (A,B,C) mass flow rates of each component, positive = input/inlet, negative = output/outlet 
MfrPump12_A=[450,1]
MfrPump12_B=[450,2]
MfrPump15_A=[450,3]
MfrPump15_B=[450,4]
MfrPump18_A=[450,5]
MfrPump18_B=[450,6]
MfrPump21_A=[450,7]
MfrPump21_B=[450,8]
MfrTeePiece36_A=[450,9]
MfrTeePiece36_B=[450,10]
MfrTeePiece36_C=[450,11]
MfrUntitledConn3_A=[450,12]
MfrUntitledConn3_B=[450,13]
MfrUntitledConn6_A=[450,14]
MfrUntitledConn6_B=[450,15]
MfrTeePiece46_A=[450,16]
MfrTeePiece46_B=[450,17]
MfrTeePiece46_C=[450,18]
MfrUntitledConn4_A=[450,19]
MfrUntitledConn4_B=[450,20]
MfrUntitledConn5_A=[450,21]
MfrUntitledConn5_B=[450,22]
MfrPiTesLStorageTank1_11_A=[450,23]
MfrPiTesLStorageTank1_11_B=[450,24]


UNIT451 TYPE 929
!TeePiece36
PARAMETERS 0
INPUTS 6
MfrTeePiece36_A
MfrTeePiece36_B
MfrTeePiece36_C
UntitledConn3
UntitledConn6
PiTesLStorageTank1_11
***Initial values
0 0 0 20 20 20 
EQUATIONS 1
TTeePiece36= [451,1]

UNIT452 TYPE 929
!TeePiece46
PARAMETERS 0
INPUTS 6
MfrTeePiece46_A
MfrTeePiece46_B
MfrTeePiece46_C
UntitledConn4
UntitledConn5
PiTesLStorageTank1_11
***Initial values
0 0 0 20 20 20 
EQUATIONS 1
TTeePiece46= [452,1]

CONSTANTS 8
** Fluid Loop : defaultGroup
di_loop_0=0.2
L_loop_0=2
U_loop_0=10
L_loop_0_save = Mfr_loop_0_nom*dtSim/rhoWat/((di_loop_0/2)^2*3.14
U_loop_0_save = 10*L_loop_0_save

EQUATIONS 33
** Fluid Loop : defaultGroup
**di_loop_0=0.2
**L_loop_0=2
**U_loop_0=10
*** UntitledConn1
diUntitledConn1=di_loop_0
LUntitledConn1=L_loop_0
UUntitledConn1=U_loop_0
*** UntitledConn2
diUntitledConn2=di_loop_0
LUntitledConn2=L_loop_0
UUntitledConn2=U_loop_0
*** UntitledConn3
diUntitledConn3=di_loop_0
LUntitledConn3=L_loop_0
UUntitledConn3=U_loop_0
*** UntitledConn4
diUntitledConn4=di_loop_0
LUntitledConn4=L_loop_0
UUntitledConn4=U_loop_0
*** UntitledConn5
diUntitledConn5=di_loop_0
LUntitledConn5=L_loop_0
UUntitledConn5=U_loop_0
*** UntitledConn6
diUntitledConn6=di_loop_0
LUntitledConn6=L_loop_0
UUntitledConn6=U_loop_0
*** UntitledConn3
diUntitledConn3=di_loop_0
LUntitledConn3=L_loop_0
UUntitledConn3=U_loop_0
*** UntitledConn6
diUntitledConn6=di_loop_0
LUntitledConn6=L_loop_0
UUntitledConn6=U_loop_0
*** UntitledConn4
diUntitledConn4=di_loop_0
LUntitledConn4=L_loop_0
UUntitledConn4=U_loop_0
*** UntitledConn5
diUntitledConn5=di_loop_0
LUntitledConn5=L_loop_0
UUntitledConn5=U_loop_0
*** PiTesLStorageTank1_11
diPiTesLStorageTank1_11=di_loop_0
LPiTesLStorageTank1_11=L_loop_0
UPiTesLStorageTank1_11=U_loop_0


PipeLoss0=PUntitledConn1_kW+PUntitledConn2_kW+PUntitledConn3_kW+PUntitledConn4_kW+PUntitledConn5_kW+PUntitledConn6_kW+PUntitledConn3_kW+PUntitledConn6_kW+PUntitledConn4_kW+PUntitledConn5_kW+PPiTesLStorageTank1_11_kW
PipeLossTotal=PipeLoss0
