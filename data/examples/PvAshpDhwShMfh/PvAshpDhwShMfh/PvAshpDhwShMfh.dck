**********************************************************************
** head.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\generic 
**********************************************************************
*******************************
**BEGIN Head.ddck
*******************************
VERSION 18    
CONSTANTS 3
START=4344.0 ! value changed from original by executeTrnsys.py
STOP=13848.0 ! value changed from original by executeTrnsys.py
dtSim = 1/30.  ! time step in hours
CONSTANTS 13
nIteTrnsys = 30      ! TRNSYS Limit of iterations
nWarnTrnsys = 12000  ! TRNSYS Limit of warnings
nCallTraceTrnys = 31 ! TRNSYS limit of calls to a component before it will be traced
FrInte_Tol = 0.003   ! TRNSYS solver tolerances      
FrConv_Tol = 0.0005  ! TRNSYS solver tolerances    
nan_check_bool = 1   ! TRNSYS nan check boolean
time_report = 1      ! TRNSYS time report
solver_equation = 0  ! TRNSYS EQUATION SOLVER statement
debug_statement = 0  ! TRNSYS Overwrite DEBUG statement
solver_statement = 0 ! TRNSYS Solver statement
min_relax_factor = 1 ! TRNSYS Minimum relaxation factor
max_relac_factor = 1 ! TRNSYS Maximum relaxation factor 
solver_integration = 1    ! TRNSYS numerical integration solver method
SIMULATION START STOP dtSim     
TOLERANCES    FrInte_Tol  FrConv_Tol     
LIMITS nIteTrnsys nWarnTrnsys nCallTraceTrnys ! Limit of Iterations, limit of warnings, limit of calls to a component before it will be traced
DFQ solver_integration                        ! TRNSYS numerical integration solver method
WIDTH 132                                     ! TRNSYS output file width, number of characters
LIST                                          ! NOLIST statement
SOLVER solver_statement min_relax_factor max_relac_factor      ! Solver statement, Minimum relaxation factor, Maximum relaxation factor
NAN_CHECK nan_check_bool  ! Nan DEBUG statement
OVERWRITE_CHECK debug_statement     ! Overwrite DEBUG statement
EQSOLVER solver_equation           ! EQUATION SOLVER statement
TIME_REPORT time_report
CONSTANTS 3    
tStrtUser = START     ! START start time of user defined printer
tEndUser  = STOP      ! END time of user defined printer
dtPrUser  = dtSim     ! timestep of user defined printer
CONSTANTS 6 
versionDeck = 1 !can be changed from config file to adapt processes and so on
PI   = 3.1415926     
Zero = 0
Nix  = 0
notused  = 0
NPlotsPerSim = 18
CONSTANTS 7 
CPBRI = 3.8160   ! spec. heat of Glycol  [kJ/kgK]; Value for an average pipe temperature with 55 °C Tyfocor LS
RHOBRI = 1016.0  ! density Glycol [kg/m³]; Value for an average pipe temperature with 55 °C Tyfocor L
CPWAT = 4.19     ! spec. heat of Water [kJ/kgK] at 20 °C
RHOWAT = 998.0   ! density of Water  [kg/m³] at20 °C
LAMWAT = 0.58    ! heat conductivity W/(mK) 
CPWAT_SI = CPWAT*1000 ! J/(kgK)    
CPBRI_SI = CPBRI*1000 ! J/(kgK)    
**********************************************************************
** HP08L-M-BC.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\Ashp 
**********************************************************************
*********************************************
** BEGIN HP08L-M-BC.ddck
*********************************************
CONSTANTS 22
TEvapMaxHp = TEvapMax ! It was 80 before. Not clear where the 80 comes from, according to DP, this temperature is unrealistic
sizeHpNom = 11.3
MfrHpCondRef = 2900
MfrHpEvapRef = 7250
COPNom = 4.242280
TEvapMax = 35
CHPM_c1 = sizeHpRatio*13.10520725
CHPM_c2 = sizeHpRatio*108.26821046
CHPM_c3 = sizeHpRatio*7.62723462
CHPM_c4 = sizeHpRatio*-84.26501889
CHPM_c5 = sizeHpRatio*192.68685526
CHPM_c6 = sizeHpRatio*-127.13728101
COP_c1 = 10.16619989
COP_c2 = 58.83247172
COP_c3 = -59.00621178
COP_c4 = -204.36295107
COP_c5 = 78.24401583
COP_c6 = 99.32578169
TMinEvapTin = -20.000000
TMinEvapTout = TMinEvapTin - 3
TCondMaxHp = 65.000000
CpEvap = 1.004
**********************************************************************
** type977.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\Ashp 
**********************************************************************
*******************************
**BEGIN BW-HeatPump.dck
*******************************
EQUATIONS 4
ThpEvapIn = TAmb   
MfrEvapIn = ABS(MfrHpEvapNom)     
THpCondIn = TTeeAuxRt_Ashp 
MfrCondIn = ABS(MTeeAuxRt_Ashp_A)
EQUATIONS 2
THpEvapOut = [15,1]		 !Changed automatically
TAshp = [15,3]		 !Changed automatically
EQUATIONS 3
elSysIn_Q_HpCompD = PelAuxComp_kW 
qSysOut_HpLoss = PAuxDefrost_kW + PAuxLossStart_kW
qSysIn_PauxEvap = PauxEvap_kW
EQUATIONS 1
myHpIsOn = hpIsOn		! control signal for the heat pump
EQUATIONS 1
MfrHpPD = MfrPD
CONSTANTS 7		! Heat Pump: Size              
sizeHpUsed=20.0 ! value changed from original by executeTrnsys.py
ratioCondEvap = MfrHpCondRef/MfrHpEvapRef
SizeHpDefined = sizeHpUsed/sizeHpNom          
SizeHpRatio = SizeHpDefined          
MfrHpEvapNom = SizeHpRatio*MfrHpEvapRef
MfrHpCondNom = SizeHpRatio*MfrHpCondRef		! adapt cond to corrected evap MfrHpEvapNom*ratioCondEvap                                     !  
timeHpBlock = 5
CONSTANTS 5
Moloss = 0     
Ctherm = 4		!1     
Ualoss = 0     
frCOP = 1     
frCond = 1
CONSTANTS 5
MfrHpCondMin = MfrHpCondNom*0.4		! chosen without any knowledge of actual system
MfrHpCondMax = MfrHpCondNom			! chosen without any knowledge of actual system
dMfrHpCondInc = 4*MfrHpCondNom
dMfrHpCondDec = -dMfrHpCondInc
dtSetHp = 5
EQUATIONS 1
dTProPID= HpIsOn*(TAshp-THpCondIn)+NOT(HpIsOn)*5
UNIT 14 TYPE 889		 !Changed automatically
PARAMETERS 9     
1					! 1: mode of timesteps: 1= use previous value, 0 = use current value
MfrHpCondMin		! 2: lowest possible output value
MfrHpCondMax		! 3: highest possible output value
-1					! 4: mode of action: 1 = positive, (increase in manipulated value causes increase in process variable), -1 = negative
MfrHpCondNom		! 5: By how much shall the manipulated variable be changed per hour if the process variable is 1 unit off?
4					! 6: A high value for D counteracts overshoot / counteracts high rates of increase or decrease in the process variable.
120					! 7: maximum rate of setpoint change per hour
dMfrHpCondInc		! 8: maximum rate of increase of the manipulated variable (positive value)
dMfrHpCondDec		! 9: maximum rate of decrease of the manipulated variable (negative value)
INPUTS 5     
dTProPID		! 1: process variable
dtSetHp			! 2: setpoint
Nix				! 3: freeze manipulated variable (1) or let act (0)
Nix				! 4: Manual (1) or automatic (0) manipulated variable
Nix				! 5: manual manipulated variable
0.0   0.0   0.0   0.0    0.0     
EQUATIONS 6		! ASHP ON-Signal and mass flow
MfrPDNew = [14,1]      !Changed automatically
SetpPD = [14,2]      !Changed automatically
DevPD = [14,3]     !Changed automatically
MfrPuHpPD = HpIsOn*MfrPD   
relaxMfrPD = 1     
MfrPD = MfrPDNew*relaxMFrPD + (1-relaxMFrPD)*MfrPDRc     
CONSTANTS 6
tauWPstart = 10
tauWPstop = 20
TWPEvapIce = 7			! JS: 7 seems to give somewhat realistic results. the dCOP distribution is different from type 401, needs to be checked further...
EtaDefrost = 0.3		! JS: was 0.4 before, dCOP was too small, so this efficiency was decreased
PelWPVen = 0
PelAuxCtr_kW = 0
EQUATIONS 1
tAmbHp = 15
UNIT 15 TYPE 977		 !Changed automatically
PARAMETERS 28     
CHPM_c1				! 1: c1
CHPM_c2				! 2: c2
CHPM_c3				! 3: c3
CHPM_c4				! 4: c4
CHPM_c5				! 5: c5
CHPM_c6				! 6: c6
COP_c1				! 7: cop1
COP_c2				! 8: cop2
COP_c3				! 9: cop3
COP_c4				! 10: cop4
COP_c5				! 11: cop5
COP_c6				! 12: cop6
tauWPstart			! 13: tau_start, s
tauWPstop			! 14: tau_stop, s
TWPEvapIce			! 15: tevapIce, ï¿½C
EtaDefrost			! 16: eta_defrost, -
PelWPVen			! 17: ventilator electricity consumption, kW
PelAuxCtr_kW		! 18: controller electricity consumption, kW
TminEvapTout		! 19: tevap,min, ï¿½C
TEvapMaxHp			! 20: tevap,max, ï¿½C
0					! 21: tcond,min, ï¿½C
tCondMaxHp			! 22: tcond,max, ï¿½C
CpEvap				! 23: cp,evap, kJ/kgK
CpWat				! 24: cp,cond, kJ/kgK
timeHpBlock			! 25: tau_error, hr
Moloss				! 26: 0-3
Ctherm				! 27: kJ/K
Ualoss				! 28: W/k
INPUTS 9     
ThpEvapIn		! 1: tevap,in, ï¿½C
MfrEvapIn		! 2: Mfr,evap,in, kg/h
THpCondIn		! 3: tcond,in, ï¿½C
MfrCondIn		! DC LET IS AS IT WAS BEFORE (CHECK) MfrHpCond !      ! 4: Mfr,cond,in, kg/h
myHpIsOn		! 5: gamma_ON, -
RHamb_1			! 6: RH_air_in
tAmbHp			! 7
frCond			! 8
frCOP			! 9
0  0  0  0  0  0.5 21 1 1     
EQUATIONS 11		! Heat Pump: Outputs
MfrAuxEvapOut = [15,2]					 !Changed automatically
HpIsBlock = BrineTooColdTimer			! OR([162,18],BrineTooColdTimer) !      
BrineTooCold = OR(LT(THpEvapIn,TMinEvapTin),(LT(THpEvapOut,TMinEvapTout)))
MfrAuxOut = [15,4]*NOT(HpIsBlock)		 !Changed automatically
PelAuxComp_kW = [15,5]					 !Changed automatically
PelAuxTot_kW = [15,6]					 !Changed automatically
PauxEvap_kW = [15,7] !Changed automatically
PauxCond_kW = [15,8]					 !Changed automatically
COPAux = PauxCond_kW/(PelAuxTot_kW+0.000001)
PAuxLossStart_kW = [15,10]				 !Changed automatically
PAuxDefrost_kW = [15,11]				 !Changed automatically
UNIT 16 TYPE 817		 !Changed automatically
PARAMETERS 10    
1				! 1: mode of timer 1: 1= from first trigger on; 2 = from last trigger on
timeHpBlock		! 2: lenght of time for timer 1 [h]
0				! 3: mode of timer 2: 1= from first trigger on; 2 = from last trigger on
0				! 4: lenght of time for timer 2 [h]
0				! 5: mode of timer 3: 1= from first trigger on; 2 = from last trigger on
0				! 6: lenght of time for timer 3 [h]
0				! 7: mode of timer 4: 1= from first trigger on; 2 = from last trigger on
0				! 8: lenght of time for timer 4 [h]
0
0
INPUTS 5    
BrineTooCold Nix  Nix  Nix Nix
0.0 0.0 0.0 0.0 0.0
EQUATIONS 1
BrineTooColdTimer = [16,1] !Changed automatically
UNIT 12 TYPE 993		 !Changed automatically
PARAMETERS 1     
4		! 1: number of variables to be remembered
INPUTS 4    
HpIsBlock TAshp  myHpIsOn MfrPD !ImbHpOnErr_kWh EImbPPiShHot_kWh ImbHpDhwOnErr_kWh     
0 0  0 0		!0 0 0  
EQUATIONS 6   
BoHpStart = myHpIsOn*NOT(myHpIsOnRc)     
HpStartPerH = BoHpStart/dtsim      
HpIsBlockRc = [12,1]      !Changed automatically
THpOutRc = [12,2]   !Changed automatically
myHpIsOnRc = [12,3] !Changed automatically
MfrPDRc = [12,4] !Changed automatically
EQUATIONS 9		! 16     
dpAuxSH_bar = 0.2															! according to MacSheep report 7.2 
PflowAuxSH_W = ((MfrAuxOut/3600)/RhoWat)*dpAuxSH_bar*100000					! required power to drive the flow, W
etaPuAuxSh = 0.35															! Assumption
PelPuAuxSH_kW = (PflowAuxSH_W/1000)/etaPuAuxSH								! required pump electric power, kW
dpAuxBrine_bar = 0.3														! assumption (pressure drop is a mix between SH- and Borehole-Loop according to MacSheep report 7.2)
PflowAuxBrine_W = ((MfrAuxEvapOut/3600)/RhoBri)*dpAuxBrine_bar*100000		! required power to drive the flow, W
etaPuAuxBrine = 0.35														! Assumption
PelPuAuxBrine_kW = (PflowAuxBrine_W/1000)/etaPuAuxBrine						! required pump electric power, kW
PelPuAuxBri_kW = GT(MfrEvapIn,0.1)*PelPuAuxBrine_kW							! GT(MfrcondIn,0.1)*PelPuAuxBrine_kW		! naming could be betterï¿½
EQUATIONS 2
dtEvap = ThpEvapIn-THpEvapOut
dtCond = TAshp-THpCondIn
CONSTANTS 1
unitPrintHp = 17
ASSIGN temp\HEAT_PUMP_MO.Prt unitPrintHp 
UNIT 10 TYPE 46       !Changed automatically
PARAMETERS 6   
unitPrintHp		! 1: Logical unit number, -
-1				! 2: Logical unit for monthly summaries, -
1				! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
-1				! 4: Printing & integrating interval, h. -1 for monthly integration
1				! 5: Number of inputs to avoid integration, -
1				! 6: Output number to avoid integration
INPUTS 5
Time  PauxEvap_kW  PauxCond_kW  PelAuxComp_kW PelAuxTot_kW
Time  PauxEvap_kW  PauxCond_kW  PelAuxComp_kW PelAuxTot_kW
CONSTANTS 1
unitHourlyHp = 18
ASSIGN temp\HEAT_PUMP_HR.Prt unitHourlyHp 
UNIT 11 TYPE 46		 !Changed automatically
PARAMETERS 10   
unitHourlyHp		! 1: Logical unit number, -
-1					! 2: Logical unit for monthly summaries, -
1					! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
1					! 4: Printing & integrating interval, h. -1 for monthly integration
5					! 5: Number of inputs to avoid integration, -
6					! 6: Output number to avoid integration
7					! 7: Output number to avoid integration
8					! 8: Output number to avoid integration
9					! 9: Output number to avoid integration
10					! 10: Output number to avoid integration
INPUTS 10
Time   PauxEvap_kW  PauxCond_kW  PelAuxComp_kW PelAuxTot_kW ThpEvapIn THpEvapOut THpCondIn TAshp COPAux
Time  PauxEvap_kW  PauxCond_kW  PelAuxComp_kW PelAuxTot_kW ThpEvapIn THpEvapOut THpCondIn TAshp COPAux
**IGNORE ONLINE PLOTTER - 1** IGNORE ONLINE PLOTTER - UNIT 13 TYPE 65		 !Changed automatically
**IGNORE ONLINE PLOTTER - 1PARAMETERS 12     
**IGNORE ONLINE PLOTTER - 110					! 1: Nb. of left-axis variables
**IGNORE ONLINE PLOTTER - 110					! 2: Nb. of right-axis variables
**IGNORE ONLINE PLOTTER - 1-10					! 3: Left axis minimum
**IGNORE ONLINE PLOTTER - 170					! 4: Left axis maximum
**IGNORE ONLINE PLOTTER - 10					! 5: Right axis minimum
**IGNORE ONLINE PLOTTER - 1100					! 6: Right axis maximum
**IGNORE ONLINE PLOTTER - 1nPlotsPerSim		! 7: Number of plots per simulation
**IGNORE ONLINE PLOTTER - 112					! 8: X-axis gridpoints
**IGNORE ONLINE PLOTTER - 11					! 9: Shut off Online w/o removing
**IGNORE ONLINE PLOTTER - 1-1					! 10: Logical unit for output file
**IGNORE ONLINE PLOTTER - 10					! 11: Output file units
**IGNORE ONLINE PLOTTER - 10					! 12: Output file delimiter
**IGNORE ONLINE PLOTTER - 1INPUTS 20     
**IGNORE ONLINE PLOTTER - 1ThpEvapIn THpEvapOut THpCondIn TAshp myHpIsOn HpIsBlock Nix Nix  Nix Nix
**IGNORE ONLINE PLOTTER - 1MfrEvapIn MfrCondIn PauxEvap_kW PauxCond_kW   frCond dtEvap dtCond PAuxLossStart_kW Nix Nix
**IGNORE ONLINE PLOTTER - 1ThpEvapIn THpEvapOut THpCondIn TAshp myHpIsOn HpIsBlock Nix Nix  Nix Nix
**IGNORE ONLINE PLOTTER - 1MfrEvapIn MfrCondIn PauxEvap_kW PauxCond_kW   frCond dtEvap dtCond PAuxLossStart_kW Nix Nix
**IGNORE ONLINE PLOTTER - 1LABELS  3     
**IGNORE ONLINE PLOTTER - 1Temperatures     
**IGNORE ONLINE PLOTTER - 1massFlow_and_Heat_transf     
**IGNORE ONLINE PLOTTER - 1HP    
**********************************************************************
** hydraulic_control.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\control 
**********************************************************************
*************************************
**BEGIN hydraulic_control.ddck
*************************************
EQUATIONS 5
TWtTp = TTeeCirc1_WtTp
TPuCirc = TPiTeeCirc1_PuCirc
TPuDhw = THxDhw_PuDhw
TPuSh = TRadFloor_PuSh
TPuAux = TAshp_PuAux
CONSTANTS 1
T_set_MixSh=TRdSet
UNIT 19 TYPE 811  !Changed automatically
PARAMETERS 1
5 !Nb.of iterations before fixing the value 
INPUTS 4 
TTesSh_MixSh
TTeeSh_MixSh
MMixSh_RadFloor
T_set_MixSh
35.0 21.0 800.0 T_set_MixSh
EQUATIONS 1
xFracMixSh =  1.-[19,5]  !Changed automatically
**********************************************************************
** PvAshpDhwShMfh_Controler.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\control 
**********************************************************************
*******************************
**BEGIN Control-Cooling-888.ddck 
**
EQUATIONS 17
tMaxTes = 95
TTesDhwAuxOff = T6_Tes1
TTesDhwAuxOn  = T9_Tes1
TTesDhwBot = T1_Tes1
TTesShBot = T1_Tes2
TTesDhwTop = T9_Tes1
TTesShTop = T9_Tes2
TCollectorOn = T3_Tes1
TProAuxDhwTes = T9_Tes1
TesOverheat = OR(GT(T10_Tes1,tMaxTes)*NOT(TesOverheatRc) + GT(T10_Tes1Rc,tMaxTes-5)*TesOverheatRc,GT(T10_Tes2,tMaxTes)*NOT(TesOverheatRc) + GT(T10_Tes2Rc,tMaxTes-5)*TesOverheatRc)
TProWs     = MIN(TTesDhwBot,TTesShBot)*BoHS + TTesDhwBot*NOT(BoHS) !	MIN(TTesDhwAuxOn,TsensorTesSh)*BoHS + TTesDhwAuxOn*NOT(BoHS)  	! 4 Used for ProWs 
TTesSolar = TProWs
TsensorTesSh = T8_Tes2
TPROAUXShTes = T8_Tes2
TPIRADIN=TRdFl
tSetBoiler = (TRdSet)*NOT(HpForDhwIsNeeded)+(TdhwSet+10)*HpForDhwIsNeeded
auxOn = OR(HpForDHWIsNeeded,HpForSHIsNeeded)
EQUATIONS 11
MfrPuAux = MfrPuHpPD*auxOnRc
MfrPuSh = MfrBuiRd
MfrWtSp = MfrDHWset
MfrPuCirc = 50
MfrPuDHW = MfrSrcDHWHXUsed
xFracMixAux = HpForDHWIsNRc
xFracDivDhw = NOT(GT(MfrDHWset,0))
xFracDivDhwOut = NOT(GT(MfrDHWset,0))
xFracDivSolarDhwSh = (AND(xFracDivSolarDhwShRc,GT(TTesDhwBotRc+15,TTesShBotRc))+NOT(xFracDivSolarDhwShRc)*LT(TTesShBotRc,TTesDhwBotRc))*BoHS
CoolingOn=0
hpIsOn=auxOnRc
UNIT 21 TYPE 993      !Changed automatically
PARAMETERS 1     
4    ! 1: number of variables to be remembered
INPUTS 4
TesOverheat   T10_Tes1 T10_Tes2 xFracDivSolarDhwSh
0.0    20  20 0.0
EQUATIONS 4               ! Recalled values for collector control
TesOverheatRc = [21,1]      !Changed automatically
T10_Tes1Rc = [21,2]      !Changed automatically
T10_Tes2Rc = [21,3]      !Changed automatically
xFracDivSolarDhwShRc = [21,4] !Changed automatically
EQUATIONS 4
mySenTesSolarTop = MIN(TTesDhwTop,TTesShTop)*BoHS + TTesDhwTop*NOT(BoHS) !@dependencyDdck
mySenTesSolarBot = MIN(TTesDhwBot,TTesShBot)*BoHS + TTesDhwBot*NOT(BoHS) !@dependencyDdck
tSetAux = TdhwSetProfile
TdhwSet = tSetAux
UNIT 20 TYPE 993  !Changed automatically
PARAMETERS 1     
6   ! 1: number of variables to be remembered    
INPUTS 6     
auxOn TTesDhwBot TTesShBot hpIsOn MfrSrcDHWHXUsed HpForDHWIsNeeded
0.0  0.0 0.0 0.0 0.0 0.0 0.0
EQUATIONS 6    ! outputs of Input Value Recall
auxOnRc = [20,1]       !Changed automatically
TTesDhwBotRc = [20,2] !Changed automatically
TTesShBotRc = [20,3] !Changed automatically
hpIsOnRc = [20,4] !Changed automatically
MfrSrcDHWHXUsedRc = [20,5] !Changed automatically
HpForDHWIsNRc= [20,6] !Changed automatically
**IGNORE ONLINE PLOTTER - 1** IGNORE ONLINE PLOTTER - UNIT 22 TYPE 65      !Changed automatically
**IGNORE ONLINE PLOTTER - 1PARAMETERS 12     
**IGNORE ONLINE PLOTTER - 110    ! 1 Nb. of left-axis variables
**IGNORE ONLINE PLOTTER - 110    ! 2 Nb. of right-axis variables
**IGNORE ONLINE PLOTTER - 10   ! 3 Left axis minimum
**IGNORE ONLINE PLOTTER - 12    ! 4 Left axis maximum
**IGNORE ONLINE PLOTTER - 10     ! 5 Right axis minimum
**IGNORE ONLINE PLOTTER - 12   ! 6 Right axis maximum
**IGNORE ONLINE PLOTTER - 1nPlotsPerSim ! 7 Number of plots per simulation
**IGNORE ONLINE PLOTTER - 112    ! 8 X-axis gridpoints
**IGNORE ONLINE PLOTTER - 11     ! 9 Shut off Online w/o removing
**IGNORE ONLINE PLOTTER - 1-1    ! 10 Logical unit for output file
**IGNORE ONLINE PLOTTER - 10     ! 11 Output file units
**IGNORE ONLINE PLOTTER - 10     ! 12 Output file delimiter
**IGNORE ONLINE PLOTTER - 1INPUTS 20     
**IGNORE ONLINE PLOTTER - 1xFracMixAux xFracDivDhw xFracDivDhwOut xFracDivSolarDhwSh Nix Nix  Nix Nix Nix Nix
**IGNORE ONLINE PLOTTER - 1 Nix Nix Nix  Nix Nix Nix Nix Nix  Nix Nix
**IGNORE ONLINE PLOTTER - 1xFracMixAux xFracDivDhw xFracDivDhwOut xFracDivSolarDhwSh Nix Nix  Nix Nix Nix Nix
**IGNORE ONLINE PLOTTER - 1 Nix Nix Nix  Nix Nix Nix Nix Nix  Nix Nix
**IGNORE ONLINE PLOTTER - 1LABELS  3     
**IGNORE ONLINE PLOTTER - 1Temperatures     
**IGNORE ONLINE PLOTTER - 1Boolean     
**IGNORE ONLINE PLOTTER - 1Control5    
**********************************************************************
** type888.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\control 
**********************************************************************
*******************************
**BEGIN Control-888.ddck 
*******************************
EQUATIONS 1
elSysOut_CtrlDemand  = PelContr_kW 
EQUATIONS 1
TretSHtype888 = THpCondIn !For compatibility this must be defined in the control !!!
EQUATIONS 7
BoHS = [23,1] !Changed automatically
isSummer = GE(MOD(time,8760),4344)*LE(MOD(time,8760),5832)! 
HpForDHWIsNeeded = [23,2] !Changed automatically
HpForSHIsNeeded  = [23,3] !Changed automatically
TRdSet = Max([23,4],Troom)  !Changed automatically
tScSet  = [23,5] !Changed automatically
TSetSh  = [23,7] !Changed automatically
CONSTANTS 12
tavgTamb = 96  ! time for averaging of outdoor temperature for the evaluation of heating season or no heating season, h
offsetDhw = 6  ! Usually we had it at 7.5 . This means the heat pump would need to reach TdhwSet+7.5 !!
onsetDhw  = 2 !
TwwStAuxOFF = tDhwSet+offsetDhw  ! Stop heating DHW if TStoreUp > TWWStAuxOFF
TwwStAuxON  = tDhwSet+onsetDhw   ! Start heating DHW if TStoreDhwBot < TwwStAuxON
dt_rh_on = 0     ! start heating the store if the sh-store temp is below the flow temperature of the heating season + this value, K
dt_rh_off = 3     ! end heating the store if the sh-store temp is below the setpoint of the heating curve + this value, K
PelContr_kW = 0.005     ! Electricity consumption of additional controller to burner controller [kW]
nightSetBack = NIX     
TScSetWW = 0.
TScSetRH = 0.	 
dTdbHS = 1 ! heating season stops when outdoor temp. rises above TstartHS + dTdbHS
CONSTANTS 2   ! Building
TambHS = 14     ! temperature below which heating season is activated, ï¿½C
m_Rd   = 1.0    ! heating curve exponent 1:linear 1.4 getting flatter at low T
CONSTANTS 6
MoWW = 1 !0 = room heating and warm water may be done at the same time
MoRH = 3 !1 = ON if Heating Season is on and not blocked by WWMode; 
MoHCcalc=3  !mode for heat curve calculation: 
MoScOn = 2  ! 1 = Heat at least to minimum setpoint whenever Heating season is on OR WW-preparation mode is on; 
MoScTww = 1 ! Mode of temperature setpoint for warm water heating: 
MoScTrh = 1 ! Mode of temperature setpoint for room heating:
UNIT 23 TYPE 888   !Changed automatically
PARAMETERS 16     
TambHS     ! 1 TstartHS: temperature below which heating season starts
dTdbHS       ! 2 dTdbHS: heating season stops when outdoor temp. rises above TstartHS + dTdbHS
MoWW     ! 6 MoWW: 
MoRH     ! 7 
MoHCcalc     ! 11 MoHCcalc: 
m_Rd     ! 12 mrad: radiator exponent
0     ! 13 slopeHC: slope of heating curve: only active for MoHCcalc = 1 or 2
TambD     ! 14 TambHCref: reference (design) ambient temperature. At TambD, e.g -10 the flowT is at TBuiFlNom 35
TBuiFlNom     ! 15 TflowRef: reference (design) flow temperature
TBuiRtNom     ! 16 TretRef: reference (design) return temperature
0     ! 21 TScMin: minimum setpoint temperature for heat source
90     ! 22 TScMaxWW: maximum setpoint temperature for heat source in WW mode
90     ! 23 TScMaxRH: maximum setpoint for heat source temperature in space heating mode
MoScOn     ! 24 MoScOn:  1 = heat at least to minimum setpoint whenever heat-season is on or WW-Mode is on; 2 = heat at least to minimum setpoint only when RH-Mode is on or WW-Mode is on; 3 = always heat to minimum setpoint at least
MoScTww     ! 25 MoScTww: 
MoScTrh     ! 26 MoScTrh: 
INPUTS 14     
Tamb24      ! 1: Tamb ->TambHS is used for determination of heating season
TTesDhwAuxOn    ! 2: TwwStUp: upper Store temperature measurement for Warm water
TTesDhwAuxOff    ! 3: TwwStLo: lower store temperature measurement for Warm water
TwwStAuxON  ! 4: TwwON: temperature of store (upper) below which auxiliary is on for WW-Mode
TwwStauxOff ! 5: TwwOFF: temperature of store (lower) above which auxiliary is off for WW-Mode
TsensorTesSh    ! 6: TrhStUp:upper temperature measured for room heating (on)
TretSHtype888    ! 7 : THpsCondIn    11: TrhStLo: lower temperature measured for room heating (off)
dt_rh_on    ! 8: TrhON: temperature (difference) for room heating on
dt_rh_off   ! 9: TrhOFF: temperature (difference) for room heating off
tRoomSet    ! 10: TroomSet: room set-point for heating curve calculation
Tamb24      ! 11: Tamb: is used for flow temperature calculation according to heating curve
nightSetBack ! 12: dTnight: night-time room set-point reduction
TScSetWW     ! 13: TScSetWW: Set-point temperature for the heat source in warm water mode. Absolute value in ï¿½C if temperature setpoint mode for warm water MoTww = 1, relative value in K if MoTww = 2 or 3
TScSetRH     ! 14: TScSetRH:Set-point temperature for the heat source in room heating mode. Absolute value in ï¿½C if temperature setpoint mode for room heating MoTrh = 1, relative value if MoTrh = 2, 3 or 4
0 0 0 0 0 0 0 0 0 0 0 0 0 0
UNIT 24 Type 816      !Changed automatically
PARAMETERS 2     
1     !  1: number of values for input
tavgTamb     !  2: time of averaging (dt in hours)
INPUTS 1     
Tamb     ! T_ambient
21     
EQUATIONS 1     
Tamb24 = [24,1]       !Changed automatically
CONSTANTS 1
addPrinterType888 = 1  ! -1: removing , 1 : add
**IGNORE ONLINE PLOTTER - 1** IGNORE ONLINE PLOTTER - UNIT 25 TYPE 65      !Changed automatically
**IGNORE ONLINE PLOTTER - 1PARAMETERS 12     
**IGNORE ONLINE PLOTTER - 110    ! 1 Nb. of left-axis variables
**IGNORE ONLINE PLOTTER - 110    ! 2 Nb. of right-axis variables
**IGNORE ONLINE PLOTTER - 1-10   ! 3 Left axis minimum
**IGNORE ONLINE PLOTTER - 170    ! 4 Left axis maximum
**IGNORE ONLINE PLOTTER - 10     ! 5 Right axis minimum
**IGNORE ONLINE PLOTTER - 12   ! 6 Right axis maximum
**IGNORE ONLINE PLOTTER - 1nPlotsPerSim ! 7 Number of plots per simulation
**IGNORE ONLINE PLOTTER - 112    ! 8 X-axis gridpoints
**IGNORE ONLINE PLOTTER - 1addPrinterType888     ! 9 Shut off Online w/o removing
**IGNORE ONLINE PLOTTER - 1-1    ! 10 Logical unit for output file
**IGNORE ONLINE PLOTTER - 10     ! 11 Output file units
**IGNORE ONLINE PLOTTER - 10     ! 12 Output file delimiter
**IGNORE ONLINE PLOTTER - 1INPUTS 20     
**IGNORE ONLINE PLOTTER - 1TTesDhwAuxOn TTesDhwAuxOff TwwStAuxON TwwStauxOff TsensorTesSh THpCondIn HpIsBlock Nix  Nix Nix
**IGNORE ONLINE PLOTTER - 1HpForDHWIsNeeded HpForSHIsNeeded BoHS Nix Nix  tScSet TSetSh TRdSet Nix Nix
**IGNORE ONLINE PLOTTER - 1TTesDhwAuxOn TTesDhwAuxOff TwwStAuxON TwwStauxOff TsensorTesSh THpCondIn HpIsBlock Nix  Nix Nix
**IGNORE ONLINE PLOTTER - 1HpForDHWIsNeeded HpForSHIsNeeded BoHs Nix Nix tScSet TSetSh TRdSet Nix Nix
**IGNORE ONLINE PLOTTER - 1LABELS  3     
**IGNORE ONLINE PLOTTER - 1Temperatures     
**IGNORE ONLINE PLOTTER - 1Boolean     
**IGNORE ONLINE PLOTTER - 1Control    
**********************************************************************
** const_eff_hx_dhw_contr.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\HxDhw 
**********************************************************************
*******************************
**BEGIN Const_eff_HX_dhw_contr.ddck
*******************************
EQUATIONS 4
TSourceDHWHXIn = TDivDhwOut_HxDhw
MfrSourceDHWHXIn = ABS(MDivDhwOut_HxDhw_A)
TLoadDHWHXIn = TTeeCirc2_HxDhw
MfrLoadDHWHXIn = ABS(MTeeCirc2_HxDhw_A)
EQUATIONS 1
TDhwSetPoint = Tdhwset
EQUATIONS 2
THxDhwSide1 = TsourceDHWHXOutT		!TSourceDHWHXIn-HTR_HXDHWHX/(MfrSourceDHWHXIn*cpWat+0.0000000000000000001)
THxDhwSide2 = [28,7]				 !Changed automatically
EQUATIONS 1     
MfrSrcDHWHXUsed = MAX(MaxMfrSrcDHWHX*(1-fractionOfBypass)-MinMfrSrcDHWHx,0)+MinMfrSrcDHWHx		! Mass flow for the pump in the tes-to-dhw-hex-loop
CONSTANTS 3
HX_efficiencyDHWHX = 1
MaxMfrSrcDHWHX = 700*scaleDHW
MinMfrSrcDHWHx = 70*scaleDHW
UNIT 27 TYPE 652 !Changed automatically
PARAMETERS 4
HX_efficiencyDHWHX		! 1: Effectiveness of Heat Exchanger
cpwat					! 2: Specific Heat of Hot-Side Fluid
cpwat					! 3: Specific Heat of Cold-Side Fluid
1000					! 4: Number of Possible Steps
INPUTS 6
TSourceDHWHXInR		! [unconnected] Hot-Side Inlet Temperature
MaxMfrSrcDHWHX		! [unconnected] Hot-Side Flowrate
TLoadDHWHXIn		! [unconnected] Cold-Side Inlet Temperature
MfrLoadDHWHXIn		! [unconnected] Cold-Side Flowrate
TDhwSetPoint		! [unconnected] Cold-Side Set Temperature
0,0					! [unconnected] Modulation Control
20.0 0.0 10.0 0.0 14.0 0 
UNIT 28 TYPE 652 !Changed automatically
PARAMETERS 4
HX_efficiencyDHWHX		! 1: Effectiveness of Heat Exchanger
cpwat					! 2: Specific Heat of Hot-Side Fluid
cpwat					! 3: Specific Heat of Cold-Side Fluid
1000					! 4: Number of Possible Steps
INPUTS 6
TSourceDHWHXIn			! [unconnected] Hot-Side Inlet Temperature
MfrSourceDHWHXIn		! [unconnected] Hot-Side Flowrate
TLoadDHWHXIn			! [unconnected] Cold-Side Inlet Temperature
MfrLoadDHWHXIn			! [unconnected] Cold-Side Flowrate
TDhwSetPoint			! [unconnected] Cold-Side Set Temperature
0,0						! [unconnected] Modulation Control
20.0 0.0 10.0 0.0 14.0 0 
UNIT 26 TYPE 993  !Changed automatically
PARAMETERS 1     
2		! 1: number of variables to be remembered    
INPUTS 2     
TSourceDHWHXIn MfrSrcDHWHXUsed
0.0 0.0 
EQUATIONS 2		! outputs of Input Value Recall
TSourceDHWHXInR = [26,1]       !Changed automatically
MfrSrcDHWHXURc = MfrSrcDHWHXUsed
EQUATIONS 6
TsourceDHWHXOutT = [28,5]		 !Changed automatically
MfrSourceDHWHX = [28,6]		 !Changed automatically
MrfLoadDHWHX = [28,8]			 !Changed automatically
HTR_HXDHWHX = [28,10]			 !Changed automatically
fractionOfBypass = [27,9]		 !Changed automatically
QHXDHW_kW = HTR_HXDHWHX/3600
**********************************************************************
** hydraulic.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\hydraulic 
**********************************************************************
*************************************
** BEGIN hydraulic.ddck
*************************************
EQUATIONS 1
qSysOut_PipeLoss = PipeLossTot
EQUATIONS 9
TTesDhwDpL90_10H=Tdp1Out_Tes1
TTesDhwDpR1_99H=Tdp2Out_Tes1
TTesDhwDpR65_95H=Tdp3Out_Tes1
TTesShDpR1_99H=Tdp1Out_Tes2
TTesShDpL99_1H=Tdp2Out_Tes2
THxDhwSide1H=THxDhwSide1
THxDhwSide2H=THxDhwSide2
TRadFloorH=TRadFloor
TAshpH=TAshp
UNIT 29 TYPE 9351 !Changed automatically
PARAMETERS 197
49
26 32 0 0      !1 : TesDhwDpL90_10
36 33 0 0      !2 : TesDhwDpR1_99
35 34 0 0      !3 : TesDhwDpR65_95
47 44 0 0      !4 : TesShDpR1_99
27 31 0 0      !5 : TesShDpL99_1
38 39 0 0      !6 : HxDhwSide1
42 40 0 0      !7 : HxDhwSide2
37 36 35 3     !8 : DivDhw
41 0 0 5       !9 : WtTp
43 0 0 4       !10 : WtSp
24 25 0 1      !11 : PuCirc
41 40 24 2     !12 : TeeCirc1
42 43 25 2     !13 : TeeCirc2
39 37 0 1      !14 : PuDhw
45 49 0 0      !15 : RadFloor
45 44 46 3     !16 : MixSh
38 33 34 3     !17 : DivDhwOut
49 48 0 1      !18 : PuSh
47 48 46 2     !19 : TeeSh
30 31 32 2     !20 : TeeAuxRt
30 29 0 0      !21 : Ashp
28 27 26 3     !22 : MixAux
29 28 0 1      !23 : PuAux
12 11 0 0      !24 : PiTeeCirc1_PuCirc
11 13 0 0      !25 : PiPuCirc_TeeCirc2
22 1 0 0       !26 : MixAux_TesDhw
22 5 0 0       !27 : MixAux_TesSh
23 22 0 0      !28 : PuAux_MixAux
21 23 0 0      !29 : Ashp_PuAux
20 21 0 0      !30 : TeeAuxRt_Ashp
5 20 0 0       !31 : TesSh_TeeAuxRt
1 20 0 0       !32 : TesDhw_TeeAuxRt
2 17 0 0       !33 : TesDhw_DivDhwOut1
3 17 0 0       !34 : TesDhw_DivDhwOut2
8 3 0 0        !35 : DivDhw_TesDhw2
8 2 0 0        !36 : DivDhw_TesDhw1
14 8 0 0       !37 : PuDhw_DivDhw
17 6 0 0       !38 : DivDhwOut_HxDhw
6 14 0 0       !39 : HxDhw_PuDhw
7 12 0 0       !40 : HxDhw_TeeCirc1
12 9 0 0       !41 : TeeCirc1_WtTp
13 7 0 0       !42 : TeeCirc2_HxDhw
10 13 0 0      !43 : WtSp_TeeCirc2
4 16 0 0       !44 : TesSh_MixSh
16 15 0 0      !45 : MixSh_RadFloor
19 16 0 0      !46 : TeeSh_MixSh
19 4 0 0       !47 : TeeSh_TesSh
18 19 0 0      !48 : PuSh_TeeSh
15 18 0 0      !49 : RadFloor_PuSh
INPUTS 49! for Type 9351
0,0 0,0 0,0 0,0 0,0 0,0 0,0 xFracDivDhw 0,0 MfrWtSp 
MfrPuCirc 0,0 0,0 MfrPuDhw 0,0 xFracMixSh xFracDivDhwOut MfrPuSh 0,0 0,0 
0,0 xFracMixAux MfrPuAux 0,0 0,0 0,0 0,0 0,0 0,0 0,0 
0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 
0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 
0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 
EQUATIONS 104	! Output up to three (A,B,C) mass flow rates of each component, positive = input/inlet, negative = output/outlet 
MTesDhwDpL90_10_A=[29,1] !Changed automatically
MTesDhwDpL90_10_B=[29,2] !Changed automatically
MTesDhwDpR1_99_A=[29,4] !Changed automatically
MTesDhwDpR1_99_B=[29,5] !Changed automatically
MTesDhwDpR65_95_A=[29,7] !Changed automatically
MTesDhwDpR65_95_B=[29,8] !Changed automatically
MTesShDpR1_99_A=[29,10] !Changed automatically
MTesShDpR1_99_B=[29,11] !Changed automatically
MTesShDpL99_1_A=[29,13] !Changed automatically
MTesShDpL99_1_B=[29,14] !Changed automatically
MHxDhwSide1_A=[29,16] !Changed automatically
MHxDhwSide1_B=[29,17] !Changed automatically
MHxDhwSide2_A=[29,19] !Changed automatically
MHxDhwSide2_B=[29,20] !Changed automatically
MDivDhw_A=[29,22] !Changed automatically
MDivDhw_B=[29,23] !Changed automatically
MDivDhw_C=[29,24] !Changed automatically
MWtTp_A=[29,25] !Changed automatically
MWtSp_A=[29,28] !Changed automatically
MPuCirc_A=[29,31] !Changed automatically
MPuCirc_B=[29,32] !Changed automatically
MTeeCirc1_A=[29,34] !Changed automatically
MTeeCirc1_B=[29,35] !Changed automatically
MTeeCirc1_C=[29,36] !Changed automatically
MTeeCirc2_A=[29,37] !Changed automatically
MTeeCirc2_B=[29,38] !Changed automatically
MTeeCirc2_C=[29,39] !Changed automatically
MPuDhw_A=[29,40] !Changed automatically
MPuDhw_B=[29,41] !Changed automatically
MRadFloor_A=[29,43] !Changed automatically
MRadFloor_B=[29,44] !Changed automatically
MMixSh_A=[29,46] !Changed automatically
MMixSh_B=[29,47] !Changed automatically
MMixSh_C=[29,48] !Changed automatically
MDivDhwOut_A=[29,49] !Changed automatically
MDivDhwOut_B=[29,50] !Changed automatically
MDivDhwOut_C=[29,51] !Changed automatically
MPuSh_A=[29,52] !Changed automatically
MPuSh_B=[29,53] !Changed automatically
MTeeSh_A=[29,55] !Changed automatically
MTeeSh_B=[29,56] !Changed automatically
MTeeSh_C=[29,57] !Changed automatically
MTeeAuxRt_A=[29,58] !Changed automatically
MTeeAuxRt_B=[29,59] !Changed automatically
MTeeAuxRt_C=[29,60] !Changed automatically
MAshp_A=[29,61] !Changed automatically
MAshp_B=[29,62] !Changed automatically
MMixAux_A=[29,64] !Changed automatically
MMixAux_B=[29,65] !Changed automatically
MMixAux_C=[29,66] !Changed automatically
MPuAux_A=[29,67] !Changed automatically
MPuAux_B=[29,68] !Changed automatically
MPiTeeCirc1_PuCirc_A=[29,70] !Changed automatically
MPiTeeCirc1_PuCirc_B=[29,71] !Changed automatically
MPiPuCirc_TeeCirc2_A=[29,73] !Changed automatically
MPiPuCirc_TeeCirc2_B=[29,74] !Changed automatically
MMixAux_TesDhw_A=[29,76] !Changed automatically
MMixAux_TesDhw_B=[29,77] !Changed automatically
MMixAux_TesSh_A=[29,79] !Changed automatically
MMixAux_TesSh_B=[29,80] !Changed automatically
MPuAux_MixAux_A=[29,82] !Changed automatically
MPuAux_MixAux_B=[29,83] !Changed automatically
MAshp_PuAux_A=[29,85] !Changed automatically
MAshp_PuAux_B=[29,86] !Changed automatically
MTeeAuxRt_Ashp_A=[29,88] !Changed automatically
MTeeAuxRt_Ashp_B=[29,89] !Changed automatically
MTesSh_TeeAuxRt_A=[29,91] !Changed automatically
MTesSh_TeeAuxRt_B=[29,92] !Changed automatically
MTesDhw_TeeAuxRt_A=[29,94] !Changed automatically
MTesDhw_TeeAuxRt_B=[29,95] !Changed automatically
MTesDhw_DivDhwOut1_A=[29,97] !Changed automatically
MTesDhw_DivDhwOut1_B=[29,98] !Changed automatically
MTesDhw_DivDhwOut2_A=[29,100] !Changed automatically
MTesDhw_DivDhwOut2_B=[29,101] !Changed automatically
MDivDhw_TesDhw2_A=[29,103] !Changed automatically
MDivDhw_TesDhw2_B=[29,104] !Changed automatically
MDivDhw_TesDhw1_A=[29,106] !Changed automatically
MDivDhw_TesDhw1_B=[29,107] !Changed automatically
MPuDhw_DivDhw_A=[29,109] !Changed automatically
MPuDhw_DivDhw_B=[29,110] !Changed automatically
MDivDhwOut_HxDhw_A=[29,112] !Changed automatically
MDivDhwOut_HxDhw_B=[29,113] !Changed automatically
MHxDhw_PuDhw_A=[29,115] !Changed automatically
MHxDhw_PuDhw_B=[29,116] !Changed automatically
MHxDhw_TeeCirc1_A=[29,118] !Changed automatically
MHxDhw_TeeCirc1_B=[29,119] !Changed automatically
MTeeCirc1_WtTp_A=[29,121] !Changed automatically
MTeeCirc1_WtTp_B=[29,122] !Changed automatically
MTeeCirc2_HxDhw_A=[29,124] !Changed automatically
MTeeCirc2_HxDhw_B=[29,125] !Changed automatically
MWtSp_TeeCirc2_A=[29,127] !Changed automatically
MWtSp_TeeCirc2_B=[29,128] !Changed automatically
MTesSh_MixSh_A=[29,130] !Changed automatically
MTesSh_MixSh_B=[29,131] !Changed automatically
MMixSh_RadFloor_A=[29,133] !Changed automatically
MMixSh_RadFloor_B=[29,134] !Changed automatically
MTeeSh_MixSh_A=[29,136] !Changed automatically
MTeeSh_MixSh_B=[29,137] !Changed automatically
MTeeSh_TesSh_A=[29,139] !Changed automatically
MTeeSh_TesSh_B=[29,140] !Changed automatically
MPuSh_TeeSh_A=[29,142] !Changed automatically
MPuSh_TeeSh_B=[29,143] !Changed automatically
MRadFloor_PuSh_A=[29,145] !Changed automatically
MRadFloor_PuSh_B=[29,146] !Changed automatically
EQUATIONS 4
FbrineRho = RHOBRI ! [kg/m^3]
FbrineCp = CPBRI_SI*0.001 ! [kJ/(kg*K)]
FwaterRho = RHOWAT ! [kg/m^3]
FwaterCp = CPWAT_SI*0.001 ! [kJ/(kg*K)]
EQUATIONS 16
Lloop1Rho = FwaterRho
Lloop1Cp = FwaterCp
Lloop2Rho = FwaterRho
Lloop2Cp = FwaterCp
loop3NPipes = 6
loop3Len = 2.0 ! [m]
loop3Dia = 0.02 ! [m]
loop3UVal = 2.99988 ! [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop3Rho = FwaterRho
Lloop3Cp = FwaterCp
loop6NPipes = 6
loop6Len = 2.0*40 ! [m]
loop6Dia = 0.02 ! [m]
loop6UVal = 2.99988/40 ! [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop6Rho = FwaterRho
Lloop6Cp = FwaterCp
UNIT 30 TYPE 929 !Changed automatically
PARAMETERS 0
INPUTS 6
MDivDhw_A
MDivDhw_B
MDivDhw_C
TPuDhw_DivDhw
TDivDhw_TesDhw1
TDivDhw_TesDhw2
0 0 0 20 20 20 
EQUATIONS 1
TDivDhw= [30,1] !Changed automatically
EQUATIONS 1
TWtSp = Tcw
UNIT 31 TYPE 929 !Changed automatically
PARAMETERS 0
INPUTS 6
MTeeCirc1_A
MTeeCirc1_B
MTeeCirc1_C
TTeeCirc1_WtTp
THxDhw_TeeCirc1
TPiTeeCirc1_PuCirc
0 0 0 20 20 20 
EQUATIONS 1
TTeeCirc1= [31,1] !Changed automatically
UNIT 32 TYPE 929 !Changed automatically
PARAMETERS 0
INPUTS 6
MTeeCirc2_A
MTeeCirc2_B
MTeeCirc2_C
TTeeCirc2_HxDhw
TWtSp_TeeCirc2
TPiPuCirc_TeeCirc2
0 0 0 20 20 20 
EQUATIONS 1
TTeeCirc2= [32,1] !Changed automatically
UNIT 33 TYPE 929 !Changed automatically
PARAMETERS 0
INPUTS 6
MMixSh_A
MMixSh_B
MMixSh_C
TMixSh_RadFloor
TTesSh_MixSh
TTeeSh_MixSh
0 0 0 20 20 20 
EQUATIONS 1
TMixSh= [33,1] !Changed automatically
UNIT 34 TYPE 929 !Changed automatically
PARAMETERS 0
INPUTS 6
MDivDhwOut_A
MDivDhwOut_B
MDivDhwOut_C
TDivDhwOut_HxDhw
TTesDhw_DivDhwOut1
TTesDhw_DivDhwOut2
0 0 0 20 20 20 
EQUATIONS 1
TDivDhwOut= [34,1] !Changed automatically
UNIT 35 TYPE 929 !Changed automatically
PARAMETERS 0
INPUTS 6
MTeeSh_A
MTeeSh_B
MTeeSh_C
TTeeSh_TesSh
TPuSh_TeeSh
TTeeSh_MixSh
0 0 0 20 20 20 
EQUATIONS 1
TTeeSh= [35,1] !Changed automatically
UNIT 36 TYPE 929 !Changed automatically
PARAMETERS 0
INPUTS 6
MTeeAuxRt_A
MTeeAuxRt_B
MTeeAuxRt_C
TTeeAuxRt_Ashp
TTesSh_TeeAuxRt
TTesDhw_TeeAuxRt
0 0 0 20 20 20 
EQUATIONS 1
TTeeAuxRt= [36,1] !Changed automatically
UNIT 37 TYPE 929 !Changed automatically
PARAMETERS 0
INPUTS 6
MMixAux_A
MMixAux_B
MMixAux_C
TPuAux_MixAux
TMixAux_TesSh
TMixAux_TesDhw
0 0 0 20 20 20 
EQUATIONS 1
TMixAux= [37,1] !Changed automatically
UNIT 38 TYPE 931 !Changed automatically
PARAMETERS 6
loop6Dia ! diameter [m]
loop6Len ! length [m]
loop6UVal ! U-value [kJ/(h*m^2*K)]
Lloop6Rho
Lloop6Cp
20
INPUTS 4
TTeeCirc1
MPiTeeCirc1_PuCirc_A
TRoomStore
TPuCirc
20 0.0 20 20
EQUATIONS 3
TPiTeeCirc1_PuCirc = [38,1] !Changed automatically
PPiTeeCirc1_PuCirc= [38,3]/3600  !Changed automatically
MPiTeeCirc1_PuCirc = MPiTeeCirc1_PuCirc_A
UNIT 39 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop6Rho
Lloop6Cp
20
INPUTS 4
TPuCirc
MPiPuCirc_TeeCirc2_A
TRoomStore
TTeeCirc2
20 0.0 20 20
EQUATIONS 3
TPiPuCirc_TeeCirc2 = [39,1] !Changed automatically
PPiPuCirc_TeeCirc2= [39,3]/3600  !Changed automatically
MPiPuCirc_TeeCirc2 = MPiPuCirc_TeeCirc2_A
UNIT 40 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.9988 ! U-value [kJ/(h*m^2*K)] (= 0.833 W/(m^2*K))
Lloop1Rho
Lloop1Cp
20
INPUTS 4
TMixAux
MMixAux_TesDhw_A
TRoomStore
TTesDhwDpL90_10H
20 0.0 20 20
EQUATIONS 3
TMixAux_TesDhw = [40,1] !Changed automatically
PMixAux_TesDhw_kW= [40,3]/3600  !Changed automatically
MMixAux_TesDhw = MMixAux_TesDhw_A
UNIT 41 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
200.0 ! length [m]
0.029988000000000004 ! U-value [kJ/(h*m^2*K)] (= 0.00833 W/(m^2*K))
Lloop1Rho
Lloop1Cp
20
INPUTS 4
TMixAux
MMixAux_TesSh_A
TRoomStore
TTesShDpL99_1H
20 0.0 20 20
EQUATIONS 3
TMixAux_TesSh = [41,1] !Changed automatically
PMixAux_TesSh_kW= [41,3]/3600  !Changed automatically
MMixAux_TesSh = MMixAux_TesSh_A
UNIT 42 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.9988 ! U-value [kJ/(h*m^2*K)] (= 0.833 W/(m^2*K))
Lloop1Rho
Lloop1Cp
20
INPUTS 4
TPuAux
MPuAux_MixAux_A
TRoomStore
TMixAux
20 0.0 20 20
EQUATIONS 3
TPuAux_MixAux = [42,1] !Changed automatically
PPuAux_MixAux_kW= [42,3]/3600  !Changed automatically
MPuAux_MixAux = MPuAux_MixAux_A
UNIT 43 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.9988 ! U-value [kJ/(h*m^2*K)] (= 0.833 W/(m^2*K))
Lloop1Rho
Lloop1Cp
20
INPUTS 4
TAshpH
MAshp_PuAux_A
TRoomStore
TPuAux
20 0.0 20 20
EQUATIONS 3
TAshp_PuAux = [43,1] !Changed automatically
PAshp_PuAux_kW= [43,3]/3600  !Changed automatically
MAshp_PuAux = MAshp_PuAux_A
UNIT 44 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
200.0 ! length [m]
0.029988000000000004 ! U-value [kJ/(h*m^2*K)] (= 0.00833 W/(m^2*K))
Lloop1Rho
Lloop1Cp
20
INPUTS 4
TTeeAuxRt
MTeeAuxRt_Ashp_A
TRoomStore
TAshpH
20 0.0 20 20
EQUATIONS 3
TTeeAuxRt_Ashp = [44,1] !Changed automatically
PTeeAuxRt_Ashp_kW= [44,3]/3600  !Changed automatically
MTeeAuxRt_Ashp = MTeeAuxRt_Ashp_A
UNIT 45 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.9988 ! U-value [kJ/(h*m^2*K)] (= 0.833 W/(m^2*K))
Lloop1Rho
Lloop1Cp
20
INPUTS 4
TTesShDpL99_1H
MTesSh_TeeAuxRt_A
TRoomStore
TTeeAuxRt
20 0.0 20 20
EQUATIONS 3
TTesSh_TeeAuxRt = [45,1] !Changed automatically
PTesSh_TeeAuxRt_kW= [45,3]/3600  !Changed automatically
MTesSh_TeeAuxRt = MTesSh_TeeAuxRt_A
UNIT 46 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.9988 ! U-value [kJ/(h*m^2*K)] (= 0.833 W/(m^2*K))
Lloop1Rho
Lloop1Cp
20
INPUTS 4
TTesDhwDpL90_10H
MTesDhw_TeeAuxRt_A
TRoomStore
TTeeAuxRt
20 0.0 20 20
EQUATIONS 3
TTesDhw_TeeAuxRt = [46,1] !Changed automatically
PTesDhw_TeeAuxRt_kW= [46,3]/3600  !Changed automatically
MTesDhw_TeeAuxRt = MTesDhw_TeeAuxRt_A
UNIT 47 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop2Rho
Lloop2Cp
20
INPUTS 4
TTesDhwDpR1_99H
MTesDhw_DivDhwOut1_A
TRoomStore
TDivDhwOut
20 0.0 20 20
EQUATIONS 3
TTesDhw_DivDhwOut1 = [47,1] !Changed automatically
PTesDhw_DivDhwOut1= [47,3]/3600  !Changed automatically
MTesDhw_DivDhwOut1 = MTesDhw_DivDhwOut1_A
UNIT 48 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop2Rho
Lloop2Cp
20
INPUTS 4
TTesDhwDpR65_95H
MTesDhw_DivDhwOut2_A
TRoomStore
TDivDhwOut
20 0.0 20 20
EQUATIONS 3
TTesDhw_DivDhwOut2 = [48,1] !Changed automatically
PTesDhw_DivDhwOut2= [48,3]/3600  !Changed automatically
MTesDhw_DivDhwOut2 = MTesDhw_DivDhwOut2_A
UNIT 49 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop2Rho
Lloop2Cp
20
INPUTS 4
TDivDhw
MDivDhw_TesDhw2_A
TRoomStore
TTesDhwDpR65_95H
20 0.0 20 20
EQUATIONS 3
TDivDhw_TesDhw2 = [49,1] !Changed automatically
PDivDhw_TesDhw2_kW= [49,3]/3600  !Changed automatically
MDivDhw_TesDhw2 = MDivDhw_TesDhw2_A
UNIT 50 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop2Rho
Lloop2Cp
20
INPUTS 4
TDivDhw
MDivDhw_TesDhw1_A
TRoomStore
TTesDhwDpR1_99H
20 0.0 20 20
EQUATIONS 3
TDivDhw_TesDhw1 = [50,1] !Changed automatically
PDivDhw_TesDhw1_kW= [50,3]/3600  !Changed automatically
MDivDhw_TesDhw1 = MDivDhw_TesDhw1_A
UNIT 51 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop2Rho
Lloop2Cp
20
INPUTS 4
TPuDhw
MPuDhw_DivDhw_A
TRoomStore
TDivDhw
20 0.0 20 20
EQUATIONS 3
TPuDhw_DivDhw = [51,1] !Changed automatically
PPuDhw_DivDhw_kW= [51,3]/3600  !Changed automatically
MPuDhw_DivDhw = MPuDhw_DivDhw_A
UNIT 52 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
100.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop2Rho
Lloop2Cp
20
INPUTS 4
TDivDhwOut
MDivDhwOut_HxDhw_A
TRoomStore
THxDhwSide1H
20 0.0 20 20
EQUATIONS 3
TDivDhwOut_HxDhw = [52,1] !Changed automatically
PDivDhwOut_HxDhw_kW= [52,3]/3600  !Changed automatically
MDivDhwOut_HxDhw = MDivDhwOut_HxDhw_A
UNIT 53 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
400.0 ! length [m]
0.014997600000000002 ! U-value [kJ/(h*m^2*K)] (= 0.004166 W/(m^2*K))
Lloop2Rho
Lloop2Cp
20
INPUTS 4
THxDhwSide1H
MHxDhw_PuDhw_A
TRoomStore
TPuDhw
20 0.0 20 20
EQUATIONS 3
THxDhw_PuDhw = [53,1] !Changed automatically
PHxDhw_PuDhw_kW= [53,3]/3600  !Changed automatically
MHxDhw_PuDhw = MHxDhw_PuDhw_A
UNIT 54 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop6Rho
Lloop6Cp
20
INPUTS 4
THxDhwSide2H
MHxDhw_TeeCirc1_A
TRoomStore
TTeeCirc1
20 0.0 20 20
EQUATIONS 3
THxDhw_TeeCirc1 = [54,1] !Changed automatically
PHxDhw_TeeCirc1_kW= [54,3]/3600  !Changed automatically
MHxDhw_TeeCirc1 = MHxDhw_TeeCirc1_A
UNIT 55 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop6Rho
Lloop6Cp
20
INPUTS 4
TTeeCirc1
MTeeCirc1_WtTp_A
TRoomStore
TWtTp
20 0.0 20 20
EQUATIONS 3
TTeeCirc1_WtTp = [55,1] !Changed automatically
PTeeCirc1_WtTp_kW= [55,3]/3600  !Changed automatically
MTeeCirc1_WtTp = MTeeCirc1_WtTp_A
UNIT 56 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop6Rho
Lloop6Cp
20
INPUTS 4
TTeeCirc2
MTeeCirc2_HxDhw_A
TRoomStore
THxDhwSide2H
20 0.0 20 20
EQUATIONS 3
TTeeCirc2_HxDhw = [56,1] !Changed automatically
PTeeCirc2_HxDhw_kW= [56,3]/3600  !Changed automatically
MTeeCirc2_HxDhw = MTeeCirc2_HxDhw_A
UNIT 57 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop6Rho
Lloop6Cp
20
INPUTS 4
TWtSp
MWtSp_TeeCirc2_A
TRoomStore
TTeeCirc2
20 0.0 20 20
EQUATIONS 3
TWtSp_TeeCirc2 = [57,1] !Changed automatically
PWtSp_TeeCirc2_kW= [57,3]/3600  !Changed automatically
MWtSp_TeeCirc2 = MWtSp_TeeCirc2_A
UNIT 58 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop3Rho
Lloop3Cp
20
INPUTS 4
TTesShDpR1_99H
MTesSh_MixSh_A
TRoomStore
TMixSh
20 0.0 20 20
EQUATIONS 3
TTesSh_MixSh = [58,1] !Changed automatically
PTesSh_MixSh_kW= [58,3]/3600  !Changed automatically
MTesSh_MixSh = MTesSh_MixSh_A
UNIT 59 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop3Rho
Lloop3Cp
20
INPUTS 4
TMixSh
MMixSh_RadFloor_A
TRoomStore
TRadFloorH
20 0.0 20 20
EQUATIONS 3
TMixSh_RadFloor = [59,1] !Changed automatically
PMixSh_RadFloor_kW= [59,3]/3600  !Changed automatically
MMixSh_RadFloor = MMixSh_RadFloor_A
UNIT 60 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop3Rho
Lloop3Cp
20
INPUTS 4
TTeeSh
MTeeSh_MixSh_A
TRoomStore
TMixSh
20 0.0 20 20
EQUATIONS 3
TTeeSh_MixSh = [60,1] !Changed automatically
PTeeSh_MixSh_kW= [60,3]/3600  !Changed automatically
MTeeSh_MixSh = MTeeSh_MixSh_A
UNIT 61 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop3Rho
Lloop3Cp
20
INPUTS 4
TTeeSh
MTeeSh_TesSh_A
TRoomStore
TTesShDpR1_99H
20 0.0 20 20
EQUATIONS 3
TTeeSh_TesSh = [61,1] !Changed automatically
PTeeSh_TesSh_kW= [61,3]/3600  !Changed automatically
MTeeSh_TesSh = MTeeSh_TesSh_A
UNIT 62 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop3Rho
Lloop3Cp
20
INPUTS 4
TPuSh
MPuSh_TeeSh_A
TRoomStore
TTeeSh
20 0.0 20 20
EQUATIONS 3
TPuSh_TeeSh = [62,1] !Changed automatically
PPuSh_TeeSh_kW= [62,3]/3600  !Changed automatically
MPuSh_TeeSh = MPuSh_TeeSh_A
UNIT 63 TYPE 931 !Changed automatically
PARAMETERS 6
0.02 ! diameter [m]
2.0 ! length [m]
2.99988 ! U-value [kJ/(h*m^2*K)] (= 0.8333 W/(m^2*K))
Lloop3Rho
Lloop3Cp
20
INPUTS 4
TRadFloorH
MRadFloor_PuSh_A
TRoomStore
TPuSh
20 0.0 20 20
EQUATIONS 3
TRadFloor_PuSh = [63,1] !Changed automatically
PRadFloor_PuSh_kW= [63,3]/3600  !Changed automatically
MRadFloor_PuSh = MRadFloor_PuSh_A
EQUATIONS 2
PipeLossTot=PMixAux_TesDhw_kW+PMixAux_TesSh_kW+PPuAux_MixAux_kW+PAshp_PuAux_kW+PTeeAuxRt_Ashp_kW+PTesSh_TeeAuxRt_kW+PTesDhw_TeeAuxRt_kW+PTesDhw_DivDhwOut1+PTesDhw_DivDhwOut2+PDivDhw_TesDhw2_kW+PDivDhw_TesDhw1_kW+PPuDhw_DivDhw_kW+PDivDhwOut_HxDhw_kW+PHxDhw_PuDhw_kW+PTeeCirc1_WtTp_kW+PWtSp_TeeCirc2_kW+PTesSh_MixSh_kW+PMixSh_RadFloor_kW+PTeeSh_MixSh_kW+PTeeSh_TesSh_kW+PPuSh_TeeSh_kW+PRadFloor_PuSh_kW
PPiCircLoss_kW = PPiTeeCirc1_PuCirc+PPiPuCirc_TeeCirc2+PTeeCirc2_HxDhw_kW+PHxDhw_TeeCirc1_kW																						
ASSIGN PvAshpDhwShMfh_Mfr.prt 485
UNIT 64 TYPE 25 !Changed automatically
PARAMETERS 10
dtSim! 1 Printing interval
START! 2 Start time
STOP! 3 Stop time
485! 4 Logical unit
0! 5 Units printing mode
0! 6 Relative or absolute start time
-1! 7 Overwrite or Append
-1! 8 Print header
0! 9 Delimiter
1! 10 Print labels
INPUTS 30
xFracDivDhw xFracMixSh xFracDivDhwOut xFracMixAux MPiTeeCirc1_PuCirc MPiPuCirc_TeeCirc2 MMixAux_TesDhw MMixAux_TesSh
MPuAux_MixAux MAshp_PuAux MTeeAuxRt_Ashp MTesSh_TeeAuxRt MTesDhw_TeeAuxRt MTesDhw_DivDhwOut1 MTesDhw_DivDhwOut2 MDivDhw_TesDhw2
MDivDhw_TesDhw1 MPuDhw_DivDhw MDivDhwOut_HxDhw MHxDhw_PuDhw MHxDhw_TeeCirc1 MTeeCirc1_WtTp MTeeCirc2_HxDhw MWtSp_TeeCirc2
MTesSh_MixSh MMixSh_RadFloor MTeeSh_MixSh MTeeSh_TesSh MPuSh_TeeSh MRadFloor_PuSh
xFracDivDhw xFracMixSh xFracDivDhwOut xFracMixAux MPiTeeCirc1_PuCirc MPiPuCirc_TeeCirc2 MMixAux_TesDhw MMixAux_TesSh
MPuAux_MixAux MAshp_PuAux MTeeAuxRt_Ashp MTesSh_TeeAuxRt MTesDhw_TeeAuxRt MTesDhw_DivDhwOut1 MTesDhw_DivDhwOut2 MDivDhw_TesDhw2
MDivDhw_TesDhw1 MPuDhw_DivDhw MDivDhwOut_HxDhw MHxDhw_PuDhw MHxDhw_TeeCirc1 MTeeCirc1_WtTp MTeeCirc2_HxDhw MWtSp_TeeCirc2
MTesSh_MixSh MMixSh_RadFloor MTeeSh_MixSh MTeeSh_TesSh MPuSh_TeeSh MRadFloor_PuSh
ASSIGN PvAshpDhwShMfh_T.prt 486
UNIT 65 TYPE 25 !Changed automatically
PARAMETERS 10
dtSim! 1 Printing interval
START! 2 Start time
STOP! 3 Stop time
486! 4 Logical unit
0! 5 Units printing mode
0! 6 Relative or absolute start time
-1! 7 Overwrite or Append
-1! 8 Print header
0! 9 Delimiter
1! 10 Print labels
INPUTS 26
TPiTeeCirc1_PuCirc TPiPuCirc_TeeCirc2 TMixAux_TesDhw TMixAux_TesSh TPuAux_MixAux TAshp_PuAux TTeeAuxRt_Ashp TTesSh_TeeAuxRt
TTesDhw_TeeAuxRt TTesDhw_DivDhwOut1 TTesDhw_DivDhwOut2 TDivDhw_TesDhw2 TDivDhw_TesDhw1 TPuDhw_DivDhw TDivDhwOut_HxDhw THxDhw_PuDhw
THxDhw_TeeCirc1 TTeeCirc1_WtTp TTeeCirc2_HxDhw TWtSp_TeeCirc2 TTesSh_MixSh TMixSh_RadFloor TTeeSh_MixSh TTeeSh_TesSh
TPuSh_TeeSh TRadFloor_PuSh
TPiTeeCirc1_PuCirc TPiPuCirc_TeeCirc2 TMixAux_TesDhw TMixAux_TesSh TPuAux_MixAux TAshp_PuAux TTeeAuxRt_Ashp TTesSh_TeeAuxRt
TTesDhw_TeeAuxRt TTesDhw_DivDhwOut1 TTesDhw_DivDhwOut2 TDivDhw_TesDhw2 TDivDhw_TesDhw1 TPuDhw_DivDhw TDivDhwOut_HxDhw THxDhw_PuDhw
THxDhw_TeeCirc1 TTeeCirc1_WtTp TTeeCirc2_HxDhw TWtSp_TeeCirc2 TTesSh_MixSh TMixSh_RadFloor TTeeSh_MixSh TTeeSh_TesSh
TPuSh_TeeSh TRadFloor_PuSh
**********************************************************************
** elDemand.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\Pv 
**********************************************************************
*******************************
**BEGIN elDemand.ddck 
*******************************
EQUATIONS 1
elSysOut_HHDemand = PelHH_kW
EQUATIONS 1
PelHH_kW = frPelHH*PelHhDr_kW    !kW, um Faktor fr korrigierter HH-Strom
CONSTANTS 1
unitReadEl_3 = 67
 ASSIGN "C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\demands\electricity\profiles\MFH30\20191107_MFH_30_electricity_profile_2min.txt" unitReadEl_3 
UNIT 66 TYPE 9     !Changed automatically
PARAMETERS 10
6    !-, 1, Mode
0    !-, 2, Header Lines to Skip
1    !-, 3, No. of values to read
dtSim    !h, 4, Time interval of data
-1  30  0  0    !----, 5-8, Interpolate (+) or not (-)? 6: Multuplication factor, 7: Addition factor, 8: Average (0) or instantaneous (1) value
unitReadEl_3    !-, 9, Logical unit for input file
-1    !-, 10, Free format mode
EQUATIONS 2    !, Output of PVT HH el. Data reader
PelHhDr_kW = [66,1]  !Changed automatically
frPelHH = 1.0    !-, Korrekturfaktor fÃ¼r HH-Strom
**********************************************************************
** fronius_symo_inverter.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\Pv 
**********************************************************************
*******************************
**BEGIN fronius_symo_inverter.dck
*******************************
CONSTANTS 1
unitReadInvPv = 68
 CONSTANTS 3
PvMaxPInv = 12500
PvMaxVInv = 1000
PvMinVInv = 200
ASSIGN "C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\pv\type194\database\140911_FRONIUS_SYMO_Inverter.dat" unitReadInvPv 
**********************************************************************
** grid_connection.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\Pv 
**********************************************************************
*******************************
**BEGIN grid_connection.ddck
*******************************
EQUATIONS 3
elSysIn_Grid = PelFromGrid_kW
elSysOut_PvToGrid  = PvToGrid_kW
elSysOut_InvLoss = PelLossesDCAC
EQUATIONS 1
myPelSystem_kW=(PelAuxTot_kW+PelContr_kW+PelPuSH_kW+PelPuDHW_kW+qHeatSource_Tes1+qHeatSource_Tes2) ! value changed from original by executeTrnsys.py
EQUATIONS 2    ! Stromverbrauch und Stromnetzbilanz THIS WILL BE ELIMINATED           ! System electricity consumption [kW]
PelHeatSys_kW = myPelSystem_kW
PelUsedTotal_kW = PelHeatSys_kW + PelHH_kW    !kW, Total konsumierter Strom des Gebaeudes [kW]
EQUATIONS 6
PvToHH_kW      = MIN(PelPVAC_kW,PelHH_kW)
PvToHeatSys_KW = MIN(PelPVAC_kW-PvToHH_kW,PelHeatSys_kW)
PvExcess_kW    = MAX(PelPVAC_kW-PvToHH_kW-PvToHeatSys_KW,0)
PvToGrid_kW = PvExcess_kW
PelFromGrid_kW = MAX(PelUsedTotal_kW-PvToHH_kW-PvToHeatSys_KW,0.0)
PelLossesDCAC =  elSysIn_PV*(1-inverterEffDCAC)
**IGNORE ONLINE PLOTTER - 1** IGNORE ONLINE PLOTTER - UNIT 69 TYPE 65      !Changed automatically
**IGNORE ONLINE PLOTTER - 1PARAMETERS 12     
**IGNORE ONLINE PLOTTER - 15     ! 1 Nb. of left-axis variables
**IGNORE ONLINE PLOTTER - 13     ! 2 Nb. of right-axis variables
**IGNORE ONLINE PLOTTER - 10     ! 3 Left axis minimum
**IGNORE ONLINE PLOTTER - 11000     ! 4 Left axis maximum
**IGNORE ONLINE PLOTTER - 10    ! 5 Right axis minimum
**IGNORE ONLINE PLOTTER - 11000     ! 6 Right axis maximum
**IGNORE ONLINE PLOTTER - 1nPlotsPerSim     ! 7 Number of plots per simulation
**IGNORE ONLINE PLOTTER - 112     ! 8 X-axis gridpoints
**IGNORE ONLINE PLOTTER - 11     ! 9 Shut off Online w/o removing
**IGNORE ONLINE PLOTTER - 1-1     ! 10 Logical unit for output file
**IGNORE ONLINE PLOTTER - 10     ! 11 Output file units
**IGNORE ONLINE PLOTTER - 10     ! 12 Output file delimiter
**IGNORE ONLINE PLOTTER - 1INPUTS 8
**IGNORE ONLINE PLOTTER - 1elSysIn_PV  elSysIn_Grid  elSysOut_PvToGrid  elSysOut_InvLoss  nix  nix  nix  nix  
**IGNORE ONLINE PLOTTER - 1elSysIn_PV  elSysIn_Grid  elSysOut_PvToGrid  elSysOut_InvLoss  nix  nix  nix  nix 
**IGNORE ONLINE PLOTTER - 1LABELS  3    
**IGNORE ONLINE PLOTTER - 1Pel
**IGNORE ONLINE PLOTTER - 1nix
**IGNORE ONLINE PLOTTER - 1nix     
**********************************************************************
** sunskin_roof_module_eternit.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\Pv 
**********************************************************************
******************************
**BEGIN sunskin_roof_module_eternit.ddck
*******************************
CONSTANTS 19 
PvIsc = 9.2 ! Module short-circuit current at reference conditions
PvVos = 26.8 ! Module open-circuit voltage at reference conditions
PvRefTemp = 298.15 ! Reference temperature
PvRefInsulation = 1000 ! Reference insolation
PvURefMpp = 21.9 ! Module voltage at max power point and reference conditions
PvIRefMpp = 8.7 ! Module current at max power point and reference conditions
PvCoeffIsc = 0.0046 ! 8 Temperature coeficient of Isc at (ref. cond)
PvCoeffVoc = -0.08308 ! Temperature coeficient of Voc (ref. cond.)  
PvCellsInSeries = 40 ! Number of cells wired in series
areaOneModuleRoof = 1.079  ! m2  , Ref.: data sheet Eternit
PvARef = 1.11 ! Value of parameter "a" at reference conditions (from Type194 plugin)
PvILRef = 9.202 ! Value of parameter I_L at reference conditions (from Type194 plugin)
PvI0Ref = 0.000000000298 !  Value of parametre I_0 at reference conditions (from Type194 plugin)
PvModuleRs = 0.1855 ! Module series resistance (from Type194 plugin)
PvShuntRs = 859.6 ! Shunt resistance at reference conditions (from Type194 plugin)
PvTempNoct = 308.2 ! Module temperature at NOCT
PvTambNoct = 293.15 ! Ambient temperature at NOCT
PvInsNoct = 800 ! Insolation at NOCT
powerRating = 190 ! rated power at STC (Wp), according to datasheet, PvURefMpp*PvIRefMpp=190.53, slightly larger
**********************************************************************
** type194.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\Pv 
**********************************************************************
*******************************
**BEGIN pv.dck
*******************************
EQUATIONS 1
elSysIn_PV       = PelArrayMPP_kW !DC Power provided by PV field
EQUATIONS 1
ASolarZenith = AISZ !
CONSTANTS 9
slopePvRoof = slopeSurfUser_2
PvRoof_azim = aziSurfUser_2
AreaPvRoof = 74.451   !m2
numModPvRoof=64.0 ! value changed from original by executeTrnsys.py
NPanelPara = 2
NPanelSeries = 15
NPanelsPerInverter = NPanelPara*NPanelSeries
NInverters = numModPvRoof/NPanelsPerInverter
PowerPeakPV_kWp = numModPvRoof*PvURefMpp*PvIRefMpp/1000
EQUATIONS 6
IT_PvRoof = IT_surfUser_2  ! Incident total radiation on collector plane, kJ/hm2 
IB_PvRoof = IB_surfUser_2  ! incident beam radiation on collector plane, kJ/hm2
ID_PvRoof = ID_surfUser_2  ! diffuse and ground reflected irradiance on collector tilt
IDS_PvRoof = IDS_surfUser_2
IDG_PvRoof = IDG_surfUser_2
AI_PvRoof = AI_surfUser_2  ! incident angle on collector plane, ï¿½
EQUATIONS 4
IT_PV_kW = IT_PvRoof/3600     ! Incident total radiation on collector plane, kW/m2
IB_PV_kW = IB_PvRoof/3600     ! incident beam radiation on collector plane, kW/m2
ID_PV_kW = ID_PvRoof/3600     ! diffuse and ground reflected irradiance on collector tilt (kW/m2)
IT_PV_Wm2 = IT_surfUser_2/3.6
UNIT 71 TYPE 194	 !Changed automatically
PARAMETERS 29
2		! 1 Mode
PvIsc		! 2 Module short-circuit current at reference conditions
PvVos		! 3 Module open-circuit voltage at reference conditions
PvRefTemp		! 4 Reference temperature
PvRefInsulation		! 5 Reference insolation
PvURefMpp		! 6 Module voltage at max power point and reference conditions
PvIRefMpp		! 7 Module current at max power point and reference conditions
PvCoeffIsc		! 8 Temperature coeficient of Isc at (ref. cond)
PvCoeffVoc		! 9 Temperature coeficient of Voc (ref. cond.)   
PvCellsInSeries		! 10 Number of cells wired in series
NPanelSeries ! 11 Number of modules in series
NPanelPara		! 12 Number of modules in parallel
PvTempNoct		! 13 Module temperature at NOCT
PvTambNoct		! 14 Ambient temperature at NOCT
PvInsNoct		! 15 Insolation at NOCT
areaOneModuleRoof	! 16 Module area
0.95		! 17 tau-alpha product for normal incidence   okay
1.12		! 18 Semiconductor bandgap 
PvARef		! 19 Value of parameter "a" at reference conditions
PvILRef		! 20 Value of parameter I_L at reference conditions
PvI0Ref		! 21 Value of parametre I_0 at reference conditions
PvModuleRs		! 22 Module series resistance
PvShuntRs		! 23 Shunt resistance at reference conditions
0.008		! 24 Extinction coefficient-thickness product of cover
PvMaxPInv		! 25 Maximum inverter power
PvMaxVInv		! 26 Maximium inverter voltage
PvMinVInv		! 27 Minimum inverter voltage
1		! 28 Night tare
unitReadInvPv		! 29 Logical unit number for inverter data
INPUTS 10
IT_PvRoof		! kJ/(hm2), Total incident radiation on tilted surface
Tamb		!  Ambient temperature
0,0		! [unconnected] Load voltage
0,0		! [unconnected] Array slope
IB_PvRoof		! kJ/(hm2), Beam radiation on tilted surface
IDS_PvRoof	! kJ/(hm2), Sky diffuse radiation on tilted surface
IDG_PvRoof		! Ground diffuse radiation on tilted surface
AI_PvRoof		! Incidence angle on tilted surface
ASolarZenith    		! Solar zenith angle
vWind	    	! Wind speed
0 Tamb 0 slopePvRoof 0 0 0 0 0 0  
EQUATIONS 12   !, Output of PV collector
PelMaxPower_kW = [71,4]*NInverters/1000   	 !Changed automatically
PelArrayMPP_kW = [71,16]*NInverters/1000  	 !Changed automatically
VelMp = [71,6]  					 !Changed automatically
VelArrayMp = [71,14]				 !Changed automatically
PelPvRoofDC = PelArrayMPP_kW*3600 	! Power DC in kJ/h
PelPVDC = PelPVRoofDC				! Power DC in kJ/h
PelPVRoof_kW = PelMaxPower_kW   	! Power AC in kW
PelPVDC_kW = PelArrayMPP_kW  		! Power DC in kW
PelPVAC_kW = PelPVRoof_kW
inverterEffDCAC_mp = [71,13]		 !Changed automatically
inverterEffDCAC = MAX(inverterEffDCAC_mp,0.887) !MAX(inverterEffDCAC_mp,0.000000001) ! Prevent division by 0  JS: Set minimum to 0.887 because this efficiency is used by battery basic_battery.ddck
PvInverterLoss_kW = PelPVDC_kW-PelPVAC_kW
CONSTANTS 1
unitTimestep1PV = 218
ASSIGN temp\check1Pv.Plt unitTimestep1Pv 
UNIT 70 TYPE 25         !Changed automatically
PARAMETERS 10     
dtSim                  ! 1 Printing interval
tStrtUser            ! 2 Start time
tEndUser                ! 3 Stop time
unitTimestep1PV     ! 4 Logical unit
0     ! 5 Units printing mode
0     ! 6 Relative or absolute start time
-1     ! 7 Overwrite or Append
-1     ! 8 Print header
0     ! 9 Delimiter
1     ! 10 Print labels
INPUTS 6
Time IT_PV_kW IT_H_kW PelPVDC_kW  PelPVRoof_kW PvInverterLoss_kW 
Time IT_PV_kW IT_H_kW PelPVDC_kW  PelPVRoof_kW PvInverterLoss_kW 
CONSTANTS 1
unitPrinterPV = 74
ASSIGN temp\PV_MO.Prt unitPrinterPV 
UNIT 73 Type 46     !Changed automatically
PARAMETERS 6
unitPrinterPV  !, 1, Logical unit number, -
-1   !, 2, Logical unit for monthly summaries, -
1    !, 3, Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
-1   !, 4, Printing & integrating interval, h. -1 for monthly integration
1    !, 5, Number of inputs to avoid integration, -
1    !, 6, Output number to avoid integration
INPUTS 6
Time IT_PV_kW IT_H_kW PelPVDC_kW  PelPVRoof_kW PvInverterLoss_kW 
Time IT_PV_kW IT_H_kW PelPVDC_kW  PelPVRoof_kW PvInverterLoss_kW 
**IGNORE ONLINE PLOTTER - 1** IGNORE ONLINE PLOTTER - UNIT 72 TYPE 65      !Changed automatically
**IGNORE ONLINE PLOTTER - 1PARAMETERS 12     
**IGNORE ONLINE PLOTTER - 15     ! 1 Nb. of left-axis variables
**IGNORE ONLINE PLOTTER - 13     ! 2 Nb. of right-axis variables
**IGNORE ONLINE PLOTTER - 10     ! 3 Left axis minimum
**IGNORE ONLINE PLOTTER - 11000     ! 4 Left axis maximum
**IGNORE ONLINE PLOTTER - 10    ! 5 Right axis minimum
**IGNORE ONLINE PLOTTER - 11000     ! 6 Right axis maximum
**IGNORE ONLINE PLOTTER - 1nPlotsPerSim     ! 7 Number of plots per simulation
**IGNORE ONLINE PLOTTER - 112     ! 8 X-axis gridpoints
**IGNORE ONLINE PLOTTER - 11     ! 9 Shut off Online w/o removing
**IGNORE ONLINE PLOTTER - 1-1     ! 10 Logical unit for output file
**IGNORE ONLINE PLOTTER - 10     ! 11 Output file units
**IGNORE ONLINE PLOTTER - 10     ! 12 Output file delimiter
**IGNORE ONLINE PLOTTER - 1INPUTS 8
**IGNORE ONLINE PLOTTER - 1Tamb  PelMaxPower_kW  PelArrayMPP_kW  IT_H_KW  IB_H_kW  VelMp  VelArrayMp  inverterEffDCAC_mp  
**IGNORE ONLINE PLOTTER - 1Tamb  PelMaxPower_kW  PelArrayMPP_kW  IT_H_KW  IB_H_kW  VelMp  VelArrayMp  inverterEffDCAC_mp  
**IGNORE ONLINE PLOTTER - 1LABELS  3    
**IGNORE ONLINE PLOTTER - 1Pel
**IGNORE ONLINE PLOTTER - 1Vel
**IGNORE ONLINE PLOTTER - 1PV     
**********************************************************************
** internal_gains.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\RadFloor 
**********************************************************************
*******************************
**BEGIN internal_gains.ddck 
*******************************
EQUATIONS 3
qSysOut_CiBuiSH = PBuiGainCircLoss_KW*HeatingSeasonOn
qSysOut_CiBui = PBuiGainCircLoss_KW*Not(HeatingSeasonOn)
qSysOut_CiLoss = CircLoss-qSysOut_CiBuiSH-qSysOut_CiBui
EQUATIONS 3
CircLoss = PPiCircLoss_kW
HeatingSeasonOn = BoHS
scaleBuiSize = scaleBuilding
EQUATIONS 1
PbuiIntGain = scaleBuiSize*(PBuiLight_kW+PbuiGainPers_KW+PBuiGainEq_KW+PBuiGainCircLoss_KW)*3600     ! Internal Gains [kJ/h]
CONSTANTS 1
factorCircToSh = 0.5 !How much of circulation losses go to SH
CONSTANTS 1
unitReadIntGain = 76
 ASSIGN "C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\building\profiles\int_gains_mfb_2019.txt" unitReadIntGain 
UNIT 75 TYPE 9      !Changed automatically
PARAMETERS 22     
5     ! 1 Mode
1     ! 2 Header Lines to Skip
4     ! 3 No. of values to read
1     ! 4 Time interval of data
 -1 1 0 0     ! 1st Data to read: 1: Interpolate (+) or not? (-); 2: Multiplication factor; 3: Addition factor; 4: average (0) or instantaneous (1)
 -1 1 0 0     ! 1st Data to read: 1: Interpolate (+) or not? (-); 2: Multiplication factor; 3: Addition factor; 4: average (0) or instantaneous (1)
  -1 1 0 0     ! 1st Data to read: 1: Interpolate (+) or not? (-); 2: Multiplication factor; 3: Addition factor; 4: average (0) or instantaneous (1)
 -1 1 0 0     ! 1st Data to read: 1: Interpolate (+) or not? (-); 2: Multiplication factor; 3: Addition factor; 4: average (0) or instantaneous (1)
unitReadIntGain     ! 9 Logical unit for input file (vorher 18)
-1     ! 10 Free format mode     
EQUATIONS 4    ! Internal Gains
PBuiLight_kW = scaleBuiSize*[75,4]/1000*PGainLight      !Changed automatically
PbuiGainPers_KW = scaleBuiSize*[75,3]/1000*PGainPer      !Changed automatically
PBuiGainEq_KW = scaleBuiSize*[75,2]/1000*PGainEquip      !Changed automatically
PBuiGainCircLoss_KW = CircLoss*factorCircToSh    ! relative air mass flow rate for the SFH, -
**********************************************************************
** mfb30_2020.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\RadFloor 
**********************************************************************
*******************************
**BEGIN mfb30.ddck
*******************************
CONSTANTS 5   
scaleBuilding = 1
TBuiFlNom = 30 ! 35     ! Design flow temp. heating syst. [Â°C]
TBuiRtNom = 25 ! 30     ! Design return temp. heating syst. [Â°C]
Precond = NIX      ! Extracted mean ground preconditioning power
PheatBuiD = 15*3600
EQUATIONS 6	! Shading Factor (Blinds, other Buildings etc.)
win_g = 0.45	! g-value windows
win_g_shd = 0.063	! g-value of the window when shaded with blinds
shd_fix_N = 0.89	! BerÃ¼cksichtigt Fensterleibung, andere GebÃ¤ude, Balkone etc. (kann direkt aus Lesosai oder SIA380/1 Ã¼bernommen werden)
shd_fix_S = 0.43	! BerÃ¼cksichtigt Fensterleibung, andere GebÃ¤ude, Balkone etc. (kann direkt aus Lesosai oder SIA380/1 Ã¼bernommen werden)
shd_fix_E = 0.86	! BerÃ¼cksichtigt Fensterleibung, andere GebÃ¤ude, Balkone etc. (kann direkt aus Lesosai oder SIA380/1 Ã¼bernommen werden)
shd_fix_W = 0.82	! BerÃ¼cksichtigt Fensterleibung, andere GebÃ¤ude, Balkone etc. (kann direkt aus Lesosai oder SIA380/1 Ã¼bernommen werden)
CONSTANTS 13
Cm = 814754369.89*scaleBuilding ! J/K Internal capacity of the building J/K, 165000*(floor surface), "moyen" / mittlere therm. KapazitÃ¤t
Am = 5446*scaleBuilding      ! m2 effective mass area, 2.5*(floor surface), "moyen" / mittlere therm. KapazitÃ¤t
UaWin = 264.8*scaleBuilding    !  Igor Thermal transmission coefficient of doors, windows, curtains walls and glazed walls W/K
Htr_op = 306.1*scaleBuilding ! Igor W/K, UA value of walls 
PGainPer = 1478*scaleBuilding	! Maximale WÃ¤rmeeintrag durch Personen [W] Mattia:1440
PGainEquip = 7852*scaleBuilding	! Maximaler WÃ¤rmeeintrag durch GerÃ¤te [W] Mattia:7649.2
PGainLight = 0!  7649.2*0.75	Maximaler WÃ¤rmeeintrag durch Beleuchtung [W]
ScaleVfrVent = 0.6542*scaleBuilding
VfrInfRealAHU=0* AreaBui*scaleBuilding / 3600			! Infiltration  [m3/s](from m3/hm2) for real user behavior and AHU 
VfrInfRealnoAHU=0.15 * AreaBui*scaleBuilding / 3600	! Infiltration  [m3/s](from m3/hm2) for real user behavior and no AHU
VfrInfIdealAHU=0.165* AreaBui*scaleBuilding / 3600	! Infiltration  [m3/s](from m3/hm2) for ideal user behavior and AHU
VfrInfIdealnoAHU=0.7*0.94* AreaBui*scaleBuilding / 3600	! Infiltration  [m3/s](from m3/hm2)for ideal user behavior and no AHU
VfrVent = 0.25*scaleBuilding	! Ventilation  [m3/s]
CONSTANTS 4
alphaWindow = 7.5
heightWindow = 1.43*scaleBuilding
widthWindow = 0.88*scaleBuilding
numberWindows = 33*scaleBuilding
CONSTANTS 6
AreaBui = 1205*scaleBuilding ! Conditioned floor area m2
volBui = 2902*scaleBuilding  ! m2
AsolN = 54.21*scaleBuilding  ! effective reception areas of the windows of the north
AsolS = 172.53*scaleBuilding
AsolE = 43.81*scaleBuilding
AsolW = 26.32*scaleBuilding
**********************************************************************
** type1792.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\RadFloor 
**********************************************************************
**************************************
**BEGIN type1792.ddck 
**************************************
EQUATIONS 1
TRdFl = TMixSh_RadFloor
EQUATIONS 1
TRadFloor = [78,1]		 !Changed automatically
EQUATIONS 3
qSysOut_BuiDemand = PheatBui_kW			! Total heat (without cooling) Heat to Building from Radiator: W --> kW
qSysIn_BuiDemand = PcoolBui_kW 
elSysOut_PuShDemand	= PelPuSh_kW  		! To be moved and generated automatically to hydraulic GUI export JS: uncommented, because if it's calculated it should be included here...
EQUATIONS 6
myTrdSet = TrdSet
myCoolingOn = CoolingOn
myAreaBui = AreaBui
myTroomRc = TroomRc
myTroomSetCool = TroomSetCool
myTroomSet = TroomSet
EQUATIONS 2     
T_Set_d = MAX(TRadFloor,myTrdSet)		! TrdSet output from TYPE 888. Temperature set point for tempering valve used in hydraulic. 
PheatBui = [78,3]*3.6				 !Changed automatically
EQUATIONS 1
MfrBuiRd = MfrBuiHeatRd + MfrBuiCoolRd
CONSTANTS 4    
MfrBuiRdNom = 200*nParallelPipe		! 20*nParallelPipe		! Nominal mass flow of heat distribution system [kg/h] ! was adjusted because of iteration problems... realistic value would have to be double checked with a building expert
PheatRadNom = MfrBuiRdNom*CPWAT*(TBuiFlNom-TBuiRtNom)
pGainRad = 0.6     
iGainRad = 0.05     
UNIT 77 TYPE 320		 !Changed automatically
PARAMETERS 7     
3				! 1: Temperature width of PID band
pGainRad		! 2: Proportional gain PID band
iGainRad		! 3: Integral gain PID band
0				! 4: Differential gain PID band
0.5				! 5: Proportional gain P-band
0     			! 6: Saturation mode
0				! 7: Minimum value controller action in saturation mode
INPUTS 3     
myTroomSet		! Set temperature
myTroomRc		! Building: 1- (air temperature of zone)  TAIR   1 ->Feedback room temperature
0,0				! Control inversion option 1: increasing, 2: decreasing action
22 18 2      
EQUATIONS 3    
PIDRadBuiMin = 0.15																		! 0.05		!0.01 
PIDBuiOut =  [77,1] !Changed automatically
PIDRadBui = MIN(GT(PIDBuiOut,PIDRadBuiMin)*PIDBuiOut,1)									! [41,1]*BoHS     
UNIT 79 TYPE 320		 !Changed automatically
PARAMETERS 7     
3				! 1: Temperature width of PID band
pGainRad		! 2: Proportional gain PID band
iGainRad		! 3: Integral gain PID band
0				! 4: Differential gain PID band
0.5				! 5: Proportional gain P-band
0				! 6: Saturation mode
0				! 7: Minimum value controller action in saturation mode
INPUTS 3     
myTroomSetCool		!  Set temperature
myTroomRc			!  Building: 1- (air temperature of zone)  TAIR   1 ->Feedback room temperature
0,0					!  Control inversion option 1: increasing, 2: decreasing action
24 22 1      
EQUATIONS 4    
PIDRadCoolBuiMin = 0.15											! 0.05		!0.01   
PIDRaCooldBui = MIN(MAX([79,1],PIDRadCoolBuiMin),1)  !Changed automatically
MfrBuiCoolRd = MfrBuiRdNom*myCoolingOn							! JS: cooling no longer uses PID, but instead a deadband
MfrBuiHeatRd = MfrBuiRdNom*NOT(myCoolingOn)*PIDRadBui*BoHS		! DC otherwise is keeps running in summer
CONSTANTS 17
AFloor = myAreaBui									! m2 !JS it is 120, was added on config level
dxBetweenTubes = 0.144
LFloorPipe = 200 									! 50 m/pipe
LFloorPipeTotal = 7*AFloor							! 6.95*AFloor
dFloorPipe = 0.015 
nParallelPipe = LFloorPipeTotal/LFloorPipe+1		! usually distance 10-15 cm
indexPipeLayer = 2 									! from bottom !!!! IT SHOULD BE CHANGED !!!!!
pipeFloorWallThick = 0.002 							! 2 mm thickness
lambdaFloorPipe = 0.4 								! W/mK multi layer tube (pastic PE-RT +  aluminium (oxygen tight) + PE-HD)
alphaMode = 0 										! calculated internally -1 alpha for all Cv, 1 using tin, 0 fixed
accelerator = 0
nCvFloorPipe = 100
TiniFloor = 30
epsilonWood = 0.9 
nMatType1792 = 4 									! LAYERS FROM TOP TO BOTTOM : (1) wood, (2) beton, (3) pipe, (4) insulation
nParType1792 = 15+nMatType1792*5
bocoDown = 0 										! U and T below the floor
CONSTANTS 18
thickInsFloor = 0.042
lambdaInsFloor = 0.037
cpInsFloor = 2.1		! kJ/kgK
rhoInsFloor = 280
nCvInsFloor = 1
thickBetonPipe = dFloorPipe
nCvBetonPipe = 1
thickBeton = 0.04 - thickBetonPipe
lambdaBeton = 2
cpBeton = 0.950			! kJ/kgK
rhoBeton = 250 
nCvBeton = 1 
thickWood = 0.01
lambdaWood = 0.1
cpWood = 2.3
rhoWood = 600
nCvWood = 1
epsilonDown = 0
EQUATIONS 6		!TRY WITH RC to see if It problems are solved
TfloorUp = myTroomRc
TBelowFloor = myTroomRc		!To avoid bot losses we use U=0 (adiabatic) since losses has been already included in the building model
TviewUp = myTroomRc
TviewDown = 0
UBelowFloor = 0.0 			! adiabatic
UconvUp = -1
UNIT 78 TYPE 1792		 !Changed automatically
PARAMETERS nParType1792     
AFloor					! [m^2] total area of floor
dxBetweenTubes       	! [m] total length of heating pipe 
dFloorPipe       		! [m] diameter of heating pipe
nParallelPipe    		! [-] number of parallel pipes
indexPipeLayer   		! [-] index pipe layer from the bottom
pipeFloorWallThick		! [m] thickness of pipe wall
lambdaFloorPipe  		! [W/m/K] heat conductivity pipe wall
alphaMode        		! [-] Mode of forced heat transfer coefficient computation
accelerator		 		! calculation acceleration		
CPWAT            		! [kJ/K/kg] specific heat of fluid
nCvFloorPipe     		! [-] number of control volumes (cells) in fluid model
TiniFloor        		! [Â°C] initial floor temperature
epsilonWood      		! [-] emissivity of layer at the interface to the room
epsilonDown     		! [-] number of different materials
nMatType1792
thickWood 
lambdaWood
cpWood    		    
rhoWood           
nCvWood   
thickBeton				! [m] thickness of material
lambdaBeton				! [W/m/K] heat conduction coefficient of material
cpBeton					! [kJ/K/kg] -> [J/K/kg]  specific heat of material
rhoBeton				! [kg/m^3]
nCvBeton				! [-] number of control volumes for this material
thickBetonPipe			! [m] thickness of material
lambdaBeton				! [W/m/K] heat conduction coefficient of material
cpBeton					! [kJ/K/kg] -> [J/K/kg]  specific heat of material
rhoBeton				! [kg/m^3]
nCvBetonPipe			! [-] number of control volumes for this material
thickInsFloor			! [m] thickness of material
lambdaInsFloor			! [W/m/K] heat conduction coefficient of material
cpInsFLoor				! [kJ/K/kg] -> [J/K/kg]  specific heat of material
rhoInsFloor				! [kg/m^3]
nCvInsFloor				! [-] number of control volumes for this material
INPUTS 8
TRdFl			! supply Temperature
MfrBuiRd		! mass flow rate	[kg/h
TfloorUp		! room air temperature  Top	[Â°C]
TBelowFloor		! ground temperature at 1 m depth	[Â°C] 
TviewUp			! room field temperature	[Â°C]
TviewDown		! lower room field temperature
UconvUp			! upper room U value (if set to negtive value-->internal calculation)
UBelowFloor		! room field temperature below if bocoDown=1, if bocoDown=0 UA between floor and ground (TfloorBot)	[Â°C]
35 MfrBuiRdNom 21 21 21 21 -1 0
EQUATIONS 19
mFlowPerRadFloorTube = [78,2]  !Changed automatically
PRdIn_kW = [78,4]/1000 										 !Changed automatically
PtotBui_kW = [78,3]/1000      								 !Changed automatically
PheatBui_kW = PRdIn_kW*GT(PRdIn_kW,0)  						! total heat (without cooling)  Heat to Building from Radiator: W --> kW
PcoolBui_kW = -PRdIn_kW*LE(PRdIn_kW,0)  					! total cooling     
QAcumRadiator = -[78,5]/1000     							 !Changed automatically
RadFloorLoss_kW  =  [78,6]/1000 !Changed automatically
TWood = [78,7] !Changed automatically
PheatBuiRad_kW = [78,9]/1000  								 !Changed automatically
PheatBuiConv_kW = [78,10]/1000 								 !Changed automatically
PheatBuiRadBot_kW = [78,11]/1000  							 !Changed automatically
PheatBuiConvBot_kW = [78,12]/1000 							 !Changed automatically
PheatBuiBot_KW = PheatBuiRadBot_kW+PheatBuiConvBot_kW		! we assume losses below are inputs to lower flat. 
MfrSh = MfrBuiRd     
BoPumpShOn = GT(MfrSh,0.0001)								! actual pressure-drop of space heat distribution in Pascal, Pa
ImbRad=PRdIn_KW+QAcumRadiator-PtotBui_kW     
RadInImb = PRdIn_kW-CPWat*MfrBuiRd*(TRdFl-TRadFloor)/3600        
ratioRad = GT(PtotBui_kW,0.)*(PheatBuiRad_kW/(0.00001+PheatBuiConv_kW))
TfloorLayerBot = [78,13]	 !Changed automatically
EQUATIONS 2
PheatBuiRad = [78,9]*3.6		 !Changed automatically
PheatBuiConv = [78,10]*3.6		 !Changed automatically
EQUATIONS 7		! Electric pump power for space heat distribution
MfrShNom = MfrBuiRdNom										! nominal mass flow rate, kg/h
dpShNom_bar = 0.25											! pressure-drop of loop at nominal mass flow, bar     
frMfrSh= MfrSh/MfrShNom										! Flow rate fraction of nominal flow rate    
dpSh_bar = (frMfrSh)^2*dpShNom_bar							! pressure drop at actual mass flow rate, bar
PflowSh_W = ((MfrShNom/3600)/RhoWat)*dpShNom_bar*100000		! required power to drive the flow, W
etaPuSh = 0.3-0.00*(1-frMfrSh)								! pump efficiency equation dependent on fractional mass flow rate of nominal mass flow rate
PelPuSh_kW = GT(MfrSh,1)*0.015								! required pump electric power, kW
CONSTANTS 1
unitPrinterHeat = 82
ASSIGN temp\HEATING_DISTR_MO.Prt unitPrinterHeat 
UNIT 80 Type 46		 !Changed automatically
PARAMETERS 6    
unitPrinterHeat		! 1: Logical unit number, -
-1					! 2: Logical unit for monthly summaries, -
1					! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
-1					! 4: Printing & integrating interval, h. -1 for monthly integration
1					! 5: Number of inputs to avoid integration, -
1					! 6: Output number to avoid integration
INPUTS 5
Time  PheatBui_kW  PRdIn_kW  PcoolBui_kW QAcumRadiator
Time  PheatBui_kW  PRdIn_kW  PcoolBui_kW QAcumRadiatorc
CONSTANTS 1
unitPrinterHeatHr = 83
ASSIGN temp\HEATING_DISTR_HR.hr unitPrinterHeatHr 
UNIT 81 Type 46		 !Changed automatically
PARAMETERS 6    
unitPrinterHeatHr		! 1: Logical unit number, -
-1						! 2: Logical unit for monthly summaries, -
1						! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
1						! 4: Printing & integrating interval, h. -1 for monthly integration
1						! 5: Number of inputs to avoid integration, -
1						! 6: Output number to avoid integration
INPUTS 7
Time TRdFl TRadFloor ImbRad 
MfrBuiRd PRdIn_KW  PheatBui_kW
Time TRdFl TRadFloor ImbRad 
MfrBuiRd PRdIn_KW  PheatBui_kW
**********************************************************************
** type5998_2020.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\RadFloor 
**********************************************************************
**************************************
**BEGIN type5998.ddck 
**************************************
EQUATIONS 2
myPheatBui = PheatBui
myPBuiIntGain = PBuiIntGain !from internal gains calculation 
EQUATIONS 1
TroomRc = [94,1] !Changed automatically
CONSTANTS 3
TroomSet   = 23*realUserBehaviour + 21*NOT(realUserBehaviour)     ! Setpoint for Room temperature, Â°C
TroomSetCool   = 24.00     ! Setpoint for Room temperature for cooling, Â°C
dTCool = 1
EQUATIONS 1
CoolingNeeded = OR(AND(GE(TroomRc,TroomSetCool-dTCool),CoolingNeededRc),GE(TroomRc,TroomSetCool))*GT(Tamb24,17) !Deadband
CONSTANTS 6
realUserBehaviour = 1 !User behaviour for window ventialtion and shading, 1 means realistic, 0 means ideal
useAHU = 1 !Air handling unit (1 means with, 0 wihtout AHU)
VentilationMode=1 !1 Weber, 2 Hall Radiatiors, 3 Hall floor
upperShadeT = 21*realUserBehaviour + 24*NOT(realUserBehaviour)
lowerShadeT = 20*realUserBehaviour + 22*NOT(realUserBehaviour)
ShadeTinit = (upperShadeT+lowerShadeT)/2
UNIT 84 TYPE 2	 !Changed automatically
PARAMETERS 2	
5	! 1 No. of oscillations
5000	! 2 High limit cut-out
INPUTS 6	
IT_N	! Radiation:IT_H ->Upper input value
0,0       	! Lower input value
0,0       	! Monitoring value
shadingControlN     	! Output control function ->Input control function
0,0       	! Upper dead band
0,0       	! Lower dead band
15 0 0 0 720.0 540.0	
EQUATIONS 1
shadingControlN=[84,1] !Changed automatically
UNIT 87 TYPE 2	 !Changed automatically
PARAMETERS 2	
5	! 1 No. of oscillations
5000	! 2 High limit cut-out
INPUTS 6	
IT_S	! Radiation:IT_H ->Upper input value
0,0       	! Lower input value
0,0       	! Monitoring value
shadingControlS     	! Output control function ->Input control function
0,0       	! Upper dead band
0,0       	! Lower dead band
15 0 0 0 720.0 540.0	
EQUATIONS 1
shadingControlS=[87,1] !Changed automatically
UNIT 85 TYPE 2	 !Changed automatically
PARAMETERS 2	
5	! 1 No. of oscillations
5000	! 2 High limit cut-out
INPUTS 6	
IT_E	! Radiation:IT_H ->Upper input value
0,0       	! Lower input value
0,0       	! Monitoring value
shadingControlE     	! Output control function ->Input control function
0,0       	! Upper dead band
0,0       	! Lower dead band
15 0 0 0 720.0 540.0	
EQUATIONS 1
shadingControlE=[85,1] !Changed automatically
UNIT 86 TYPE 2	 !Changed automatically
PARAMETERS 2	
5	! 1 No. of oscillations
5000	! 2 High limit cut-out
INPUTS 6	
IT_W	! Radiation:IT_H ->Upper input value
0,0       	! Lower input value
0,0       	! Monitoring value
shadingControlW     	! Output control function ->Input control function
0,0       	! Upper dead band
0,0       	! Lower dead band
15 0 0 0 720.0 540.0	
EQUATIONS 1	
shadingControlW=[86,1] !Changed automatically
UNIT 88 TYPE 2	 !Changed automatically
PARAMETERS 2	
5	! 1 No. of oscillations
95	! 2 High limit cut-out
INPUTS 6	
Troom	! Building:    1- (air temperature of zone)  TAIR   1 ->Upper input value
0,0      	! Lower input value
0,0      	! Monitoring value
shadingConTemp    	! Output control function ->Input control function 49,1
0,0      	! Upper dead band
0,0      	! Lower dead band
ShadeTinit 0 0 0 upperShadeT lowerShadeT 	
EQUATIONS 1	
shadingConTemp=[88,1] !Changed automatically
UNIT 92 TYPE 2	 !Changed automatically
PARAMETERS 2	
5	! 1 No. of oscillations
95	! 2 High limit cut-out
INPUTS 6	
vWind	! Building:    1- (air temperature of zone)  TAIR   1 ->Upper input value
0,0      	! Lower input value
0,0      	! Monitoring value
vWindAbove10    	! Output control function ->Input control function 49,1
0,0      	! Upper dead band
0,0      	! Lower dead band
10 0 0 0 11 9 	
EQUATIONS 1	
vWindAbove10=[88,1] !Changed automatically
EQUATIONS 4	! Variable Shading
Fsh_N = shd_fix_N * (AND(shadingConTemp,shadingControlN)*win_g_shd+NOT(AND(shadingConTemp,shadingControlN))*win_g)
Fsh_S = shd_fix_S * (AND(shadingConTemp,shadingControlS)*win_g_shd+NOT(AND(shadingConTemp,shadingControlS))*win_g)	! Wird Fenster g-Value im Model berÃ¼cksichtigt??? Entsprechend dann XX ausfÃ¼llen bei ideal sind die HÃ¤lfte der Fenster geschlossen
Fsh_E = shd_fix_E * (AND(shadingConTemp,shadingControlE)*win_g_shd+NOT(AND(shadingConTemp,shadingControlE))*win_g)
Fsh_W = shd_fix_W * (AND(shadingConTemp,shadingControlW)*win_g_shd+NOT(AND(shadingConTemp,shadingControlW))*win_g)
CONSTANTS 13
g_earth = 9.81
s_Hall= 0.1 ! distance of window from wall to frame when tilted [m] (Hall: 0.1 m)
y_Hall=0.01 !distance between the blind frame and sash [m] (0.01 m) [Hall]
d_Hall=0.05 !frame size of window [m] (0.05 m)
m_Hall=0.6 !air flow exponent [-] (0.6)
C_dWeber = 0.0147*alphaWindow-0.0928*heightWindow*widthWindow^(-1)+0.4116
C_dHallF = 0.93*s_Hall^(0.2)
C_dHallR = 0.532*s_Hall^(0.07)
C_k = 2.6*(10)^(-7)*alphaWindow^3-1.19*(10)^(-4)*alphaWindow^2+1.86*(10)^(-2)*alphaWindow
h_Hall=heightWindow*(1+d_Hall/s_Hall)^(-1)
Z_Hall=((widthWindow-s_Hall)/heightWindow)^(0.5)
x_Hall=heightWindow-h_Hall
Aeff_Hall=s_Hall*Z_Hall*(h_Hall-heightWindow*(1-Z_Hall))+2*x_Hall*y_Hall
UNIT 89 TYPE 2	 !Changed automatically
PARAMETERS 2	
5	! 1 No. of oscillations
95	! 2 High limit cut-out
INPUTS 6	
Tamb24	! Building:    1- (air temperature of zone)  TAIR   1 ->Upper input value
0,0      	! Lower input value
0,0      	! Monitoring value
Tamb24above18    	! Output control function ->Input control function 49,1
0,0      	! Upper dead band
0,0      	! Lower dead band
18 0 0 0 18.5 17.5 	
EQUATIONS 1	
Tamb24above18=[89,1] !Changed automatically
UNIT 90 TYPE 2	 !Changed automatically
PARAMETERS 2	
5	! 1 No. of oscillations
95	! 2 High limit cut-out
INPUTS 6	
Troom	! Building:    1- (air temperature of zone)  TAIR   1 ->Upper input value
0,0      	! Lower input value
0,0      	! Monitoring value
TroomAbove24    	! Output control function ->Input control function 49,1
0,0      	! Upper dead band
0,0      	! Lower dead band
24 0 0 0 25 23 	
EQUATIONS 1	
TroomAbove24=[90,1] !Changed automatically
EQUATIONS 1
dTroomAmb = Troom-Tamb ! difference from indoor to outdoor temperature
UNIT 91 TYPE 2	 !Changed automatically
PARAMETERS 2	
5	! 1 No. of oscillations
95	! 2 High limit cut-out
INPUTS 6	
dTroomAmb	! Building:    1- (air temperature of zone)  TAIR   1 ->Upper input value
0,0      	! Lower input value
0,0      	! Monitoring value
dTroomAmbAbove2    	! Output control function ->Input control function 49,1
0,0      	! Upper dead band
0,0      	! Lower dead band
2 0 0 0 3 1 	
EQUATIONS 1	
dTroomAmbAbove2=[91,1] !Changed automatically
EQUATIONS 13
f_win_ideal = 0 !ideal user behaviour -> no window opening
f_win_withAHU = (-8E-07*Tamb24^4+ 9E-6*Tamb24^3+0.0007*Tamb24^2+0.0078*Tamb24+0.0551)*1
f_win_withoutAHU = (-9E-07*Tamb24^4+ 6E-6*Tamb24^3+0.0008*Tamb24^2+0.0103*Tamb24+0.0713)*1
f_win_summer = 1
summerVentOn = OR(GT(MOD(time,24),21),LT(MOD(time,24),8))*Tamb24above18*TroomAbove24*dTroomAmbAbove2
f_win = (f_win_ideal*NOT(realUserBehaviour) + (useAHU*f_win_withAHU + NOT(useAHU)*f_win_withoutAHU)*realUserBehaviour)*NOT(summerVentOn) + summerVentOn*f_win_summer
VfrWindowWeber = numberWindows*f_win*C_dWeber*C_k*widthWindow/3*(ABS(Troom-Tamb)/((Troom+Tamb)/2+273)*g_earth*heightWindow^3)^(0.5)	! Infiltration due window opening [m3/s] (Readout Textfile!) SCJ: what is scaleVfrWindow?
VfrWindowHallFloor = numberWindows*f_win*C_dHallF*Aeff_Hall*(2*g_earth*heightWindow*Z_Hall*ABS(Troom-Tamb)/(Troom+273))^(m_Hall)	! Infiltration due window opening [m3/s] (Readout Textfile!) SCJ: what is scaleVfrWindow?
VfrWindowHallRad = numberWindows*f_win*C_dHallR*Aeff_Hall*(2*g_earth*heightWindow*Z_Hall*ABS(Troom-Tamb)/((Troom+Tamb)/2+273))^(m_Hall)	! Infiltration due window opening [m3/s] (Readout Textfile!) SCJ: what is scaleVfrWindow?
VfrWindow = LT(VentilationMode,2)*VfrWindowWeber+LT(VentilationMode,3)*GT(VentilationMode,1)*VfrWindowHallFloor+GT(VentilationMode,2)*VfrWindowHallRad
etaHeatRec = 0.8*NOT(summerVentOn)	! Heatrecovery efficiency of the ventilation system
VfrInf=realUserBehaviour*(useAHU*VfrInfRealAHU+NOT(useAHU)*VfrInfRealnoAHU)+NOT(realUserBehaviour)*(useAHU*VfrInfIdealAHU+NOT(useAHU)*VfrInfIdealnoAHU)
VfrAirExTot = VfrInf + VfrVent*useAHU + VfrWindow	! Air exchange of the building [m3/s]
EQUATIONS 3	! Ventilation and Infiltration
TairSup = NOT(useAHU)*Tamb+useAHU*((Tamb+(Troom-Tamb)*etaHeatRec)*VfrVent+Tamb*(VfrInf+VfrWindow))/VfrAirExTot	! Temperature of the air coming into the building (infiltration and ventilation)
Ua_vent = CPAIR * 1000 * (VfrAirExTot) *RHOAIR	! Thermal transmission coefficient due ventilation and infiltration [W/K]
HveISO = Ua_vent*scaleBuilding ! ventilation heat loss coefficient 300 ; m3/day *day/s * kg/m3 * J/kg K = W/K
CONSTANTS 1
UaBui = Htr_op
CONSTANTS 14
rhoAir = 1.002 ! kg/m3
cpAir = 1.2041 ! kJ/kgK
freeMode  = 1 ! 
powerMode = 0 !
heatEmmitter = 0
his = 3.45	   ! Heat transfer coefficient between the air node Tair and the star node W/m2K
hms = 9.1      ! Heat transfer coefficient between the mass-related node Tm and the star node W/m2K
xat = 5.4      ! Ratio between the internal surfaces area and the floor area
Nsurf = 4
Cair = volBui*rhoAir*cpAir*1000 !3128 !J/K
Tinitial = 21
Tint_Hset = 21
Tint_Cset = 26
EpsilonWindow = 0.9
EQUATIONS 5
PGainISO = myPbuiIntGain   ! Internal Gains [kJ/h] 
PlossInfr_N = 0!.67*10^-8*((TroomRc+273.15)^4-(Tamb+273.15)^4)*AsolN
PlossInfr_S = 0!5.67*10^-8*((TroomRc+273.15)^4-(Tamb+273.15)^4)*AsolS
PlossInfr_W = 0!5.67*10^-8*((TroomRc+273.15)^4-(Tamb+273.15)^4)*AsolW
PlossInfr_E = 0!5.67*10^-8*((TroomRc+273.15)^4-(Tamb+273.15)^4)*AsolE
UNIT 93 TYPE 5998	  !Changed automatically
PARAMETERS 13
Cm		! 1 J/K, thermal capacitance of zone (voir ISO 13790-2008 : 12.3)
Am		! 2 m2, surface of the effective thermal mass  (voir ISO 13790-2008 : 12.2.2)
AreaBui	! 3 m2, surface of the heated floor area (voir ISO 13790-2008 : 6.4)
UaWin	! 4 W/K, window heat transfer coefficient (voir ISO 13790-2008 : ANNEXE A)
his		! 5 W/m2K, Heat transfer coefficient between the inner air and the star-node / wall surface (3.45 W/mÂ².K according to the standard)
hms		! 6 W/m2K, heat transfer coefficient between the thermal capacity and the inner surface / star-node (9.1 W/mÂ².K according to the standard)
xat		! 7 ratio between the surface of the inner walls and the heated floor (4.5 according to the standard)
Nsurf		! 8 Nsurf
heatEmmitter		! 9 Heat emitter type
freeMode		! 10 "True" : Calculation of the building temperatures given Phc_nd as an input [Temperatures in outputs 1 to 4 correspond then to this kind of model)
powerMode		! 11 "AC"   : "True" = Calculation of the required power for heating or cooling the building according to set point temp. Tint_Hset and Tint_Cset (PAR(14) and PAR(15)) [Temperatures in outputs 1 to 4 correspond to this kind of model only if "Free" mode PAR(10) is <False>]
Cair		! 12 C_air
Tinitial
INPUTS 23
Tamb		! EQU_Weather:Tamb ->Text
TairSup		! EQU_Weather:Tamb ->Tsup
myPheatBui		! kJ/h, heating power from heating system
PGainISO		! kJ/h, internal heat gains (voir ISO 13790-2008 : 10.2)
HveISO		! W/K, ventilation heat loss coefficient (voir ISO 13790-2008 : ANNEXE A)
Htr_op		! [unconnected] W/K, overall heat transfer coefficient of outside walls and roof (voir ISO 13790-2008 : ANNEXE 
0,0      !not used
IT_N		! kJ/hm2, total solar irradiation on surface 
Fsh_N		! non-shading factor for surface 1
AsolN		! m2, effective reception area of surface 1 (voir ISO 13790-2008 : 11.3.3 et 11.3.4)
PlossInfr_N	! kJ/h, long wave losses of surface 1  (voir ISO 13790-2008 : 11.3.5 et 11.4.6)
IT_S		! EQ_Radiation:IT_S_ISO ->Isol-2
Fsh_S		! [equation] Fsh_ob-2
AsolS		! [unconnected] Asol-2
PlossInfr_S		! [unconnected] Ploss_GLO-2
IT_E		! EQ_Radiation:IT_E_ISO ->Isol-3
Fsh_E		! [equation] Fsh_ob-3
AsolE		! [unconnected] Asol-3
PlossInfr_E		! [unconnected] Ploss_GLO-3
IT_W		! EQ_Radiation:IT_W_ISO ->Isol-4
Fsh_W		! [equation] Fsh_ob-4
AsolW		! [unconnected] Asol-4
PlossInfr_W		! [unconnected] Ploss_GLO-4
10 10 0 0 1 67.55 0 0 Fsh_N 1.43 20 0 Fsh_S 5.71 80 0 Fsh_E 1.9 27 0 Fsh_W 1.9 27 
EQUATIONS 11
Troom = [93,1] !Changed automatically
TMass = [93,2] !Changed automatically
PBuiUAstatic_kW = [93,11]/3600 !Changed automatically
PbuiVent_kW = [93,12]/3600 !Changed automatically
PAcumBui_kW = [93,13]/3600 !Changed automatically
PBuiSol_kW = [93,5]/3600 !Changed automatically
PBuiGains_kW = ([93,6]+[93,7]+[93,8]-[93,5]+[93,9])/3600 !Changed automatically
TroomStar = [93,3] !Changed automatically
TroomOp = [93,4] !Changed automatically
PBuiIntGain_kW = myPBuiIntGain/3600
PBuiGrd_kW  = 0
UNIT 94 TYPE 993  !Changed automatically
PARAMETERS 1     
3     ! 1: number of variables to be remembered
INPUTS 3    
Troom TRoomStar CoolingNeeded
20 20 0
EQUATIONS 2    ! outputs of Input Value Recall   
TRoomStarRc = [94,2]      !Changed automatically
CoolingNeededRc = [94,3] !Changed automatically
EQUATIONS 7     ! penalty calculation for space haeting / cooling according to Task 26 and Task 32
X = 2     ! exponent for penalty calculation
NightPen = GT(MOD(time,24),23)+LT(MOD(time,24),6)        
DayPen = Not(NightPen)       
dTsh = MAX(0,19.5-Troom)*DayPen+MAX(0,19.5-Troom)*NightPen      ! delta-T for room heating not met JS: Change night penalty to 19.5 because we don't heat less during night
PpenSH_kW = UaBui*(dTsh+(dTsh+1)^X-1)/1000.0     ! penalty function for room-temperature below 19.5Â°C [kW]
dTsc = MAX(0,(Troom-TroomSetCool))     ! delta-T for room cooling not met
PpenSC_kW = UaBui*(dTsc+(dTsc+1)^X-1)/1000.0     ! penalty function for room-temperatures above limits of DIN 1946-2 [kW]
CONSTANTS 1 !The ISO model does not provide these ones
PbuiInf_kW = 0
**IGNORE ONLINE PLOTTER - 1** IGNORE ONLINE PLOTTER - UNIT 95 TYPE 65      !Changed automatically
**IGNORE ONLINE PLOTTER - 1PARAMETERS 12     
**IGNORE ONLINE PLOTTER - 14     ! 1 Nb. of left-axis variables
**IGNORE ONLINE PLOTTER - 17     ! 2 Nb. of right-axis variables
**IGNORE ONLINE PLOTTER - 1-5     ! 3 Left axis minimum
**IGNORE ONLINE PLOTTER - 160     ! 4 Left axis maximum
**IGNORE ONLINE PLOTTER - 1-10     ! 5 Right axis minimum
**IGNORE ONLINE PLOTTER - 150     ! 6 Right axis maximum
**IGNORE ONLINE PLOTTER - 1nPlotsPerSim     ! 7 Number of plots per simulation
**IGNORE ONLINE PLOTTER - 112     ! 8 X-axis gridpoints
**IGNORE ONLINE PLOTTER - 10     ! 9 Shut off Online w/o removing
**IGNORE ONLINE PLOTTER - 1-1     ! 10 Logical unit for output file
**IGNORE ONLINE PLOTTER - 10     ! 11 Output file units
**IGNORE ONLINE PLOTTER - 10     ! 12 Output file delimiter
**IGNORE ONLINE PLOTTER - 1INPUTS 11     
**IGNORE ONLINE PLOTTER - 1Tamb Tamb24 myTroomRc vWind  
**IGNORE ONLINE PLOTTER - 1BoHS shadingConTemp f_win  Tamb24above18  VfrWindowWeber VfrWindowHallFloor VfrWindowHallRad
**IGNORE ONLINE PLOTTER - 1Tamb Tamb24 myTroomRc vWind  
**IGNORE ONLINE PLOTTER - 1BoHS shadingConTemp f_win  Tamb24above18  VfrWindowWeber VfrWindowHallFloor VfrWindowHallRad
**IGNORE ONLINE PLOTTER - 1LABELS  3     
**IGNORE ONLINE PLOTTER - 1Temperatures     
**IGNORE ONLINE PLOTTER - 1Boolean     
**IGNORE ONLINE PLOTTER - 1Building
CONSTANTS 1
unitPrinterBui = 98
ASSIGN temp\BUILDING_MO.Prt unitPrinterBui 
UNIT 96 Type 46  !Changed automatically
PARAMETERS 6    
unitPrinterBui ! 1: Logical unit number, -
-1             ! 2: Logical unit for monthly summaries, -
1              ! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
-1             ! 4: Printing & integrating interval, h. -1 for monthly integration
1              ! 5: Number of inputs to avoid integration, -
1              ! 6: Output number to avoid integration
INPUTS 8
Time  PBuiSol_kW PBuiGains_KW PpenSH_kW  
PBuiUAstatic_kW PbuiInf_kW PbuiVent_kW PAcumBui_kW dTsc
Time  PBuiSol_kW PBuiGains_KW PpenSH_kW 
PBuiUAstatic_kW PbuiInf_kW PbuiVent_kW PAcumBui_kW dTsc
CONSTANTS 1
unitPrintHouVar = 99
ASSIGN temp\Building_HR.hr unitPrintHouVar 
UNIT 97 Type 46      !Changed automatically
PARAMETERS 6    
unitPrintHouVar   ! 1: Logical unit number, -
-1     ! 2: Logical unit for monthly summaries, -
1     ! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
1     ! 4: Printing & integrating interval, h. -1 for monthly integration
1     ! 5: Number of inputs to avoid integration, -
1 ! 6: Output number to avoid integration
INPUTS 11
Time Tamb Tamb24  Troom  PBuiSol_kW PBuiGains_KW PpenSH_kW  
PBuiUAstatic_kW PbuiInf_kW PbuiVent_kW PAcumBui_kW
Time Tamb Tamb24  Troom  PBuiSol_kW PBuiGains_KW PpenSH_kW  
PBuiUAstatic_kW PbuiInf_kW PbuiVent_kW PAcumBui_kW
**********************************************************************
** TesDhw.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\TesDhw 
**********************************************************************
*************************************
**BEGIN TesDhw.ddck
*************************************
EQUATIONS 3
qSysOut_TesDhwLoss = QLoss_Tes1
qSysOut_TesDhwAcum = QAcum_Tes1
elSysIn_Q_TesDhwAux = qHeatSource_Tes1
EQUATIONS 3
Tdp1In_Tes1 = TMixAux_TesDhw
Mfrdp1_Tes1 = MMixAux_TesDhw
Tdp1InRev_Tes1 = TTesDhw_TeeAuxRt
EQUATIONS 3
Tdp2In_Tes1 = TDivDhw_TesDhw1
Mfrdp2_Tes1 = MDivDhw_TesDhw1
Tdp2InRev_Tes1 = TTesDhw_DivDhwOut1
EQUATIONS 3
Tdp3In_Tes1 = TDivDhw_TesDhw2
Mfrdp3_Tes1 = MDivDhw_TesDhw2
Tdp3InRev_Tes1 = TTesDhw_DivDhwOut2
CONSTANTS 2
zAux1_Tes1=0.00
qAux1_Tes1=0.00
EQUATIONS 3
Tdp1Out_Tes1=[100,1]  !Changed automatically
Tdp2Out_Tes1=[100,3]  !Changed automatically
Tdp3Out_Tes1=[100,5]  !Changed automatically
CONSTANTS 3
TRoomStore=15 ! 
VStoreRef = 0.763
ratioTes1 = Vol_Tes1 / VStoreRef
CONSTANTS 2
zInDp1_Tes1=0.90
zOutDp1_Tes1=0.10
CONSTANTS 2
zInDp2_Tes1=0.01
zOutDp2_Tes1=0.99
CONSTANTS 2
zInDp3_Tes1=0.65
zOutDp3_Tes1=0.95
CONSTANTS 1
Dp1Strat_Tes1=0 ! 0: no forced stratification ; 1: force to stratify
CONSTANTS 1
Dp2Strat_Tes1=0 ! 0: no forced stratification ; 1: force to stratify
CONSTANTS 1
Dp3Strat_Tes1=0 ! 0: no forced stratification ; 1: force to stratify
CONSTANTS 1
nHxUsed_Tes1=0 
CONSTANTS 10
zSen1_Tes1=0.05
zSen2_Tes1=0.15
zSen3_Tes1=0.25
zSen4_Tes1=0.35
zSen5_Tes1=0.45
zSen6_Tes1=0.55
zSen7_Tes1=0.65
zSen8_Tes1=0.75
zSen9_Tes1=0.85
zSen10_Tes1=0.95
CONSTANTS 10
zSenAvgBot1_Tes1 = 0.05
zSenAvgTop1_Tes1 = 0.15
zSenAvgBot2_Tes1 = 0.25
zSenAvgTop2_Tes1 = 0.35
zSenAvgBot3_Tes1 = 0.45
zSenAvgTop3_Tes1 = 0.55
zSenAvgBot4_Tes1 = 0.65
zSenAvgTop4_Tes1 = 0.75
zSenAvgBot5_Tes1 = 0.85
zSenAvgTop5_Tes1 = 0.95
CONSTANTS 12
Vol_Tes1=2.0 ! value changed from original by executeTrnsys.py
RhoWat_Tes1=RhoWat  ! 2: kg/m3, density of storage media
CpWat_Tes1=CpWat    ! 3: kJ/kgK, specific heat of storage media
lamZ_Tes1=0.6       ! 4: W/mK, effective vertical thermal conductivity of TES
Heigh_Tes1=1.       ! 5: m, storage height
Tini_Tes1=60.       ! 6: oC, initial temperature
nCvMax_Tes1=400     ! 7: -, minimum relative plug height
nCvMin_Tes1=20      ! 8: -, maximum relative plug height
maxTDiff_Tes1=0.015 ! 9: K, maximum temperature difference between plugs
readMode_Tes1=0     ! 10: 1: from table, 0: Tini and CapTot
Tref_Tes1=273.15    ! 11: oC, reference temperature
Tmax_Tes1=100.       ! 6: oC, initial temperature
CONSTANTS 10
Ufoam_Tes1= 0.67 ! W/(m2K) 6 cm of foam of 0.04 W/(mK) 
Ubot_Tes1 = 1.5 ! W/(m2K) 2 cm of foam of 0.04 W/(mK)
Atop_Tes1 = Vol_Tes1/Heigh_Tes1 ! m2
Diameter_Tes1 = (4*ATop_Tes1/PI)^0.5 ! m 
ALat_Tes1 = Heigh_Tes1*PI*Diameter_Tes1 ! m2
UaBot_Tes1= Ubot_Tes1*ATop_Tes1 !  W/k 
Uaz1_Tes1 = Ufoam_Tes1*ALat_Tes1/3 !  W/k
Uaz2_Tes1 = Ufoam_Tes1*ALat_Tes1/3 !  W/k
Uaz3_Tes1 = Ufoam_Tes1*ALat_Tes1/3 !  W/k
UaTop_Tes1 = Ufoam_Tes1*ATop_Tes1 !  W/k
CONSTANTS 4
MoInsPlate_Tes1=0 ! 0-2, Insulation Plate Mode: 0 = no insulation plate inside TES, 1 = insulation plate at fixed relative height, 2 = insulation plate at fixed temperature / density controlled 
zInsPlate_Tes1=0  ! 0-1, relative position of fixed height insulation plate inside TES (only for Insulation Plate Mode = 1
TinsPlate_Tes1=0  ! oC, temperature at which moveable insulation plate floats in TES (only for Insulation Plate Mode = 2)
UAinsPlate_Tes1=0 ! W/K, overall heat transfer coefficient across moveable insulation plate (including heat transfer in gap between plate and wall and in wall at the respective height)
UNIT 100 TYPE 1924      !Changed automatically
PARAMETERS 219 
Vol_Tes1     ! 1: m3, volume of store
RhoWat_Tes1  ! 2: kg/m3, density of storage media
CpWat_Tes1   ! 3: kJ/kgK, specific heat of storage media
lamZ_Tes1    ! 4: W/mK, effective vertical thermal conductivity of TES
Heigh_Tes1   ! 5: m, storage height
TIni_Tes1   ! 6: oC, initial temperature
nCvMax_Tes1  ! 7: -, minimum relative plug height
nCvMin_Tes1  ! 8: -, maximum relative plug height
maxTDiff_Tes1  ! 9: K, maximum temperature difference between plugs
readMode_Tes1  ! 10: 1: from table, 0: Tini and CapTot
Tref_Tes1     ! 11: oC, reference temperature
UaBot_Tes1 ! W/k 
Uaz1_Tes1  ! W/k
Uaz2_Tes1  ! W/k
Uaz3_Tes1  ! W/k
UaTop_Tes1 ! W/k
tMax_Tes1
0	0	0 ! 17-20 unsused parameters
zInDp1_Tes1 zOutDp1_Tes1 zero Dp1Strat_Tes1 ! 21 - 25: zIn, zOut, cp, strat
zInDp2_Tes1 zOutDp2_Tes1 zero Dp2Strat_Tes1 ! 26 - 30: zIn, zOut, cp, strat
zInDp3_Tes1 zOutDp3_Tes1 zero Dp3Strat_Tes1 ! 31 - 35: zIn, zOut, cp, strat
-1 -1 zero zero ! 36 - 40: zIn, zOut, cp, strat
-1 -1 zero zero ! 41 - 45: zIn, zOut, cp, strat
-1 -1 zero zero ! 46 - 50: zIn, zOut, cp, strat
-1 -1 zero zero ! 51 - 55: zIn, zOut, cp, strat
-1 -1 zero zero ! 56 - 60: zIn, zOut, cp, strat
-1 -1 zero zero ! 61 - 65: zIn, zOut, cp, strat
-1 -1 zero zero ! 66 - 70: zIn, zOut, cp, strat
zSen1_Tes1 zSen2_Tes1 zSen3_Tes1 zSen4_Tes1 zSen5_Tes1 zSen6_Tes1 zSen7_Tes1 zSen8_Tes1 zSen9_Tes1 zSen10_Tes1 ! 61-71 : relative storage temperature sensor heights 
zSenAvgBot1_Tes1 zSenAvgTop1_Tes1 ! 71-72 : relative position of lower and upper edge temeprature sensors
zSenAvgBot2_Tes1 zSenAvgTop2_Tes1 ! 73-74 : relative position of lower and upper edge temeprature sensors
zSenAvgBot3_Tes1 zSenAvgTop3_Tes1 ! 75-76 : relative position of lower and upper edge temeprature sensors
zSenAvgBot4_Tes1 zSenAvgTop4_Tes1 ! 77-78 : relative position of lower and upper edge temeprature sensors
zSenAvgBot5_Tes1 zSenAvgTop5_Tes1 ! 79-80 : relative position of lower and upper edge temeprature sensors
MoInsPlate_Tes1 ! 81: 0-2, Insulation Plate Mode: 0 = no insulation plate inside TES, 1 = insulation plate at fixed relative height, 2 = insulation plate at fixed temperature / density controlled 
zInsPlate_Tes1  ! 82: 0-1, relative position of fixed height insulation plate inside TES (only for Insulation Plate Mode = 1
TinsPlate_Tes1  ! 83: oC, temperature at which moveable insulation plate floats in TES (only for Insulation Plate Mode = 2)
UAinsPlate_Tes1 ! 84: W/K, overall heat transfer coefficient across moveable insulation plate (including heat transfer in gap between plate and wall and in wall at the respective height)
nHxUsed_Tes1     ! 85: number Of used Hx
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 1
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 2
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 3
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 4
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 5
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 6
zAux1_Tes1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero 
INPUTS 69
Tdp1In_Tes1 Mfrdp1_Tes1 Tdp1InRev_Tes1
Tdp2In_Tes1 Mfrdp2_Tes1 Tdp2InRev_Tes1
Tdp3In_Tes1 Mfrdp3_Tes1 Tdp3InRev_Tes1
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
TroomStore
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
qAux1_Tes1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero 
EQUATIONS 3
Qdp1_Tes1=[100,31]  !Changed automatically
Qdp2_Tes1=[100,32]  !Changed automatically
Qdp3_Tes1=[100,33]  !Changed automatically
EQUATIONS 21
TAvg_Tes1 = [100,180]  !Changed automatically
T1_Tes1 =[100,21]  !Changed automatically
T2_Tes1 =[100,22]  !Changed automatically
T3_Tes1 =[100,23]  !Changed automatically
T4_Tes1 =[100,24]  !Changed automatically
T5_Tes1 =[100,25]  !Changed automatically
T6_Tes1 =[100,26]  !Changed automatically
T7_Tes1 =[100,27]  !Changed automatically
T8_Tes1 =[100,28]  !Changed automatically
T9_Tes1 =[100,29]  !Changed automatically
T10_Tes1 =[100,30]  !Changed automatically
Tsen1_Tes1 =[100,71]  !Changed automatically
Tsen2_Tes1 =[100,72]  !Changed automatically
Tsen3_Tes1 =[100,73]  !Changed automatically
Tsen4_Tes1 =[100,74]  !Changed automatically
Tsen5_Tes1 =[100,75]  !Changed automatically
Tsen6_Tes1 =[100,76]  !Changed automatically
Tsen7_Tes1 =[100,77]  !Changed automatically
Tsen8_Tes1 =[100,78]  !Changed automatically
Tsen9_Tes1 =[100,79]  !Changed automatically
Tsen10_Tes1 =[100,80]  !Changed automatically
EQUATIONS 1
qHeatSource_Tes1 = [100,181]  !Changed automatically
EQUATIONS 5
Qv_Tes1     = [100,176]  !Changed automatically
QLoss_Tes1  = [100,177]  !Changed automatically
QAcum_Tes1  = [100,178]  !Changed automatically
QPorts_Tes1 = [100,179]  !Changed automatically
QImb_Tes1   = [100,64]   !Changed automatically
CONSTANTS 1 
unitPrinter_Tes1 = 103
ASSIGN temp\TES1_MO.Prt unitPrinter_Tes1 
UNIT 101 TYPE 46 !Changed automatically
PARAMETERS 5
unitPrinter_Tes1 ! 1: Logical unit number, -
-1  ! 2: Logical unit for monthly summaries
1 ! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
-1  ! 4: Printing & integrating interval, h. -1 for monthly integration
0  ! 5: Number of inputs to avoid integration
INPUTS 9
Qv_Tes1 QLoss_Tes1 QAcum_Tes1 QPorts_Tes1 QImb_Tes1 Qdp1_Tes1 Qdp2_Tes1 Qdp3_Tes1 qHeatSource_Tes1 
zero zero zero zero zero zero zero zero zero 
**IGNORE ONLINE PLOTTER - 1** IGNORE ONLINE PLOTTER - UNIT 102 TYPE 65      !Changed automatically
**IGNORE ONLINE PLOTTER - 1PARAMETERS 12   
**IGNORE ONLINE PLOTTER - 110     ! 1 Nb. of left-axis variables 
**IGNORE ONLINE PLOTTER - 10     ! 2 Nb. of right-axis variables
**IGNORE ONLINE PLOTTER - 10     ! 3 Left axis minimum 
**IGNORE ONLINE PLOTTER - 1100     ! 4 Left axis maximum -
**IGNORE ONLINE PLOTTER - 10     ! 5 Right axis minimum 
**IGNORE ONLINE PLOTTER - 1100     ! 6 Right axis maximum 
**IGNORE ONLINE PLOTTER - 1nPlotsPerSim     ! 7 Number of plots per simulation 
**IGNORE ONLINE PLOTTER - 112     ! 8 X-axis gridpoints
**IGNORE ONLINE PLOTTER - 11     ! 9 Shut off Online w/o removing 
**IGNORE ONLINE PLOTTER - 1-1     ! 10 Logical unit for output file 
**IGNORE ONLINE PLOTTER - 10     ! 11 Output file units
**IGNORE ONLINE PLOTTER - 10     ! 12 Output file delimiter
**IGNORE ONLINE PLOTTER - 1INPUTS 10     
**IGNORE ONLINE PLOTTER - 1T1_Tes1 T2_Tes1 T3_Tes1 T4_Tes1 T5_Tes1 T6_Tes1 T7_Tes1 T8_Tes1 T9_Tes1 T10_Tes1 
**IGNORE ONLINE PLOTTER - 1T1_Tes1 T2_Tes1 T3_Tes1 T4_Tes1 T5_Tes1 T6_Tes1 T7_Tes1 T8_Tes1 T9_Tes1 T10_Tes1 
**IGNORE ONLINE PLOTTER - 1LABELS  3         
**IGNORE ONLINE PLOTTER - 1Temperatures  
**IGNORE ONLINE PLOTTER - 1MassFlows  
**IGNORE ONLINE PLOTTER - 1Tes1
**********************************************************************
** TesSh.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\TesSh 
**********************************************************************
*************************************
**BEGIN TesSh.ddck
*************************************
EQUATIONS 3
qSysOut_TesShLoss = QLoss_Tes2
qSysOut_TesShAcum = QAcum_Tes2
elSysIn_Q_TesShAux = qHeatSource_Tes2
EQUATIONS 3
Tdp1In_Tes2 = TTeeSh_TesSh
Mfrdp1_Tes2 = MTeeSh_TesSh
Tdp1InRev_Tes2 = TTesSh_MixSh
EQUATIONS 3
Tdp2In_Tes2 = TMixAux_TesSh
Mfrdp2_Tes2 = MMixAux_TesSh
Tdp2InRev_Tes2 = TTesSh_TeeAuxRt
CONSTANTS 2
zAux1_Tes2=0.00
qAux1_Tes2=0.00
EQUATIONS 2
Tdp1Out_Tes2=[104,1]  !Changed automatically
Tdp2Out_Tes2=[104,3]  !Changed automatically
CONSTANTS 1
ratioTes2 = Vol_Tes2 / VStoreRef
CONSTANTS 2
zInDp1_Tes2=0.01
zOutDp1_Tes2=0.99
CONSTANTS 2
zInDp2_Tes2=0.99
zOutDp2_Tes2=0.35
CONSTANTS 1
Dp1Strat_Tes2=0 ! 0: no forced stratification ; 1: force to stratify
CONSTANTS 1
Dp2Strat_Tes2=0 ! 0: no forced stratification ; 1: force to stratify
CONSTANTS 1
nHxUsed_Tes2=0 
CONSTANTS 10
zSen1_Tes2=0.05
zSen2_Tes2=0.15
zSen3_Tes2=0.25
zSen4_Tes2=0.35
zSen5_Tes2=0.45
zSen6_Tes2=0.55
zSen7_Tes2=0.65
zSen8_Tes2=0.75
zSen9_Tes2=0.85
zSen10_Tes2=0.95
CONSTANTS 10
zSenAvgBot1_Tes2 = 0.05
zSenAvgTop1_Tes2 = 0.15
zSenAvgBot2_Tes2 = 0.25
zSenAvgTop2_Tes2 = 0.35
zSenAvgBot3_Tes2 = 0.45
zSenAvgTop3_Tes2 = 0.55
zSenAvgBot4_Tes2 = 0.65
zSenAvgTop4_Tes2 = 0.75
zSenAvgBot5_Tes2 = 0.85
zSenAvgTop5_Tes2 = 0.95
CONSTANTS 12
Vol_Tes2=1.0 ! value changed from original by executeTrnsys.py
RhoWat_Tes2=RhoWat  ! 2: kg/m3, density of storage media
CpWat_Tes2=CpWat    ! 3: kJ/kgK, specific heat of storage media
lamZ_Tes2=0.6       ! 4: W/mK, effective vertical thermal conductivity of TES
Heigh_Tes2=1.       ! 5: m, storage height
Tini_Tes2=60.       ! 6: oC, initial temperature
nCvMax_Tes2=400     ! 7: -, minimum relative plug height
nCvMin_Tes2=20      ! 8: -, maximum relative plug height
maxTDiff_Tes2=0.015 ! 9: K, maximum temperature difference between plugs
readMode_Tes2=0     ! 10: 1: from table, 0: Tini and CapTot
Tref_Tes2=273.15    ! 11: oC, reference temperature
Tmax_Tes2=100.       ! 6: oC, initial temperature
CONSTANTS 10
Ufoam_Tes2= 0.67 ! W/(m2K) 6 cm of foam of 0.04 W/(mK) 
Ubot_Tes2 = 1.5 ! W/(m2K) 2 cm of foam of 0.04 W/(mK)
Atop_Tes2 = Vol_Tes2/Heigh_Tes2 ! m2
Diameter_Tes2 = (4*ATop_Tes2/PI)^0.5 ! m 
ALat_Tes2 = Heigh_Tes2*PI*Diameter_Tes2 ! m2
UaBot_Tes2= Ubot_Tes2*ATop_Tes2 !  W/k 
Uaz1_Tes2 = Ufoam_Tes2*ALat_Tes2/3 !  W/k
Uaz2_Tes2 = Ufoam_Tes2*ALat_Tes2/3 !  W/k
Uaz3_Tes2 = Ufoam_Tes2*ALat_Tes2/3 !  W/k
UaTop_Tes2 = Ufoam_Tes2*ATop_Tes2 !  W/k
CONSTANTS 4
MoInsPlate_Tes2=0 ! 0-2, Insulation Plate Mode: 0 = no insulation plate inside TES, 1 = insulation plate at fixed relative height, 2 = insulation plate at fixed temperature / density controlled 
zInsPlate_Tes2=0  ! 0-1, relative position of fixed height insulation plate inside TES (only for Insulation Plate Mode = 1
TinsPlate_Tes2=0  ! oC, temperature at which moveable insulation plate floats in TES (only for Insulation Plate Mode = 2)
UAinsPlate_Tes2=0 ! W/K, overall heat transfer coefficient across moveable insulation plate (including heat transfer in gap between plate and wall and in wall at the respective height)
UNIT 104 TYPE 1925      !Changed automatically
PARAMETERS 219 
Vol_Tes2     ! 1: m3, volume of store
RhoWat_Tes2  ! 2: kg/m3, density of storage media
CpWat_Tes2   ! 3: kJ/kgK, specific heat of storage media
lamZ_Tes2    ! 4: W/mK, effective vertical thermal conductivity of TES
Heigh_Tes2   ! 5: m, storage height
TIni_Tes2   ! 6: oC, initial temperature
nCvMax_Tes2  ! 7: -, minimum relative plug height
nCvMin_Tes2  ! 8: -, maximum relative plug height
maxTDiff_Tes2  ! 9: K, maximum temperature difference between plugs
readMode_Tes2  ! 10: 1: from table, 0: Tini and CapTot
Tref_Tes2     ! 11: oC, reference temperature
UaBot_Tes2 ! W/k 
Uaz1_Tes2  ! W/k
Uaz2_Tes2  ! W/k
Uaz3_Tes2  ! W/k
UaTop_Tes2 ! W/k
tMax_Tes2
0	0	0 ! 17-20 unsused parameters
zInDp1_Tes2 zOutDp1_Tes2 zero Dp1Strat_Tes2 ! 21 - 25: zIn, zOut, cp, strat
zInDp2_Tes2 zOutDp2_Tes2 zero Dp2Strat_Tes2 ! 26 - 30: zIn, zOut, cp, strat
-1 -1 zero zero ! 31 - 35: zIn, zOut, cp, strat
-1 -1 zero zero ! 36 - 40: zIn, zOut, cp, strat
-1 -1 zero zero ! 41 - 45: zIn, zOut, cp, strat
-1 -1 zero zero ! 46 - 50: zIn, zOut, cp, strat
-1 -1 zero zero ! 51 - 55: zIn, zOut, cp, strat
-1 -1 zero zero ! 56 - 60: zIn, zOut, cp, strat
-1 -1 zero zero ! 61 - 65: zIn, zOut, cp, strat
-1 -1 zero zero ! 66 - 70: zIn, zOut, cp, strat
zSen1_Tes2 zSen2_Tes2 zSen3_Tes2 zSen4_Tes2 zSen5_Tes2 zSen6_Tes2 zSen7_Tes2 zSen8_Tes2 zSen9_Tes2 zSen10_Tes2 ! 61-71 : relative storage temperature sensor heights 
zSenAvgBot1_Tes2 zSenAvgTop1_Tes2 ! 71-72 : relative position of lower and upper edge temeprature sensors
zSenAvgBot2_Tes2 zSenAvgTop2_Tes2 ! 73-74 : relative position of lower and upper edge temeprature sensors
zSenAvgBot3_Tes2 zSenAvgTop3_Tes2 ! 75-76 : relative position of lower and upper edge temeprature sensors
zSenAvgBot4_Tes2 zSenAvgTop4_Tes2 ! 77-78 : relative position of lower and upper edge temeprature sensors
zSenAvgBot5_Tes2 zSenAvgTop5_Tes2 ! 79-80 : relative position of lower and upper edge temeprature sensors
MoInsPlate_Tes2 ! 81: 0-2, Insulation Plate Mode: 0 = no insulation plate inside TES, 1 = insulation plate at fixed relative height, 2 = insulation plate at fixed temperature / density controlled 
zInsPlate_Tes2  ! 82: 0-1, relative position of fixed height insulation plate inside TES (only for Insulation Plate Mode = 1
TinsPlate_Tes2  ! 83: oC, temperature at which moveable insulation plate floats in TES (only for Insulation Plate Mode = 2)
UAinsPlate_Tes2 ! 84: W/K, overall heat transfer coefficient across moveable insulation plate (including heat transfer in gap between plate and wall and in wall at the respective height)
nHxUsed_Tes2     ! 85: number Of used Hx
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 1
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 2
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 3
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 4
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 5
-1 -1 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero ! Heax exchanger 6
zAux1_Tes2 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero 
INPUTS 69
Tdp1In_Tes2 Mfrdp1_Tes2 Tdp1InRev_Tes2
Tdp2In_Tes2 Mfrdp2_Tes2 Tdp2InRev_Tes2
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
TroomStore
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
zero zero zero
qAux1_Tes2 zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero zero 
zero zero zero zero zero zero zero zero zero 
EQUATIONS 2
Qdp1_Tes2=[104,31]  !Changed automatically
Qdp2_Tes2=[104,32]  !Changed automatically
EQUATIONS 21
TAvg_Tes2 = [104,180]  !Changed automatically
T1_Tes2 =[104,21]  !Changed automatically
T2_Tes2 =[104,22]  !Changed automatically
T3_Tes2 =[104,23]  !Changed automatically
T4_Tes2 =[104,24]  !Changed automatically
T5_Tes2 =[104,25]  !Changed automatically
T6_Tes2 =[104,26]  !Changed automatically
T7_Tes2 =[104,27]  !Changed automatically
T8_Tes2 =[104,28]  !Changed automatically
T9_Tes2 =[104,29]  !Changed automatically
T10_Tes2 =[104,30]  !Changed automatically
Tsen1_Tes2 =[104,71]  !Changed automatically
Tsen2_Tes2 =[104,72]  !Changed automatically
Tsen3_Tes2 =[104,73]  !Changed automatically
Tsen4_Tes2 =[104,74]  !Changed automatically
Tsen5_Tes2 =[104,75]  !Changed automatically
Tsen6_Tes2 =[104,76]  !Changed automatically
Tsen7_Tes2 =[104,77]  !Changed automatically
Tsen8_Tes2 =[104,78]  !Changed automatically
Tsen9_Tes2 =[104,79]  !Changed automatically
Tsen10_Tes2 =[104,80]  !Changed automatically
EQUATIONS 1
qHeatSource_Tes2 = [104,181]  !Changed automatically
EQUATIONS 5
Qv_Tes2     = [104,176]  !Changed automatically
QLoss_Tes2  = [104,177]  !Changed automatically
QAcum_Tes2  = [104,178]  !Changed automatically
QPorts_Tes2 = [104,179]  !Changed automatically
QImb_Tes2   = [104,64]   !Changed automatically
CONSTANTS 1 
unitPrinter_Tes2 = 107
ASSIGN temp\TES2_MO.Prt unitPrinter_Tes2 
UNIT 105 TYPE 46 !Changed automatically
PARAMETERS 5
unitPrinter_Tes2 ! 1: Logical unit number, -
-1  ! 2: Logical unit for monthly summaries
1 ! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
-1  ! 4: Printing & integrating interval, h. -1 for monthly integration
0  ! 5: Number of inputs to avoid integration
INPUTS 8
Qv_Tes2 QLoss_Tes2 QAcum_Tes2 QPorts_Tes2 QImb_Tes2 Qdp1_Tes2 Qdp2_Tes2 qHeatSource_Tes2 
zero zero zero zero zero zero zero zero 
**IGNORE ONLINE PLOTTER - 1** IGNORE ONLINE PLOTTER - UNIT 106 TYPE 65      !Changed automatically
**IGNORE ONLINE PLOTTER - 1PARAMETERS 12   
**IGNORE ONLINE PLOTTER - 110     ! 1 Nb. of left-axis variables 
**IGNORE ONLINE PLOTTER - 10     ! 2 Nb. of right-axis variables
**IGNORE ONLINE PLOTTER - 10     ! 3 Left axis minimum 
**IGNORE ONLINE PLOTTER - 1100     ! 4 Left axis maximum -
**IGNORE ONLINE PLOTTER - 10     ! 5 Right axis minimum 
**IGNORE ONLINE PLOTTER - 1100     ! 6 Right axis maximum 
**IGNORE ONLINE PLOTTER - 1nPlotsPerSim     ! 7 Number of plots per simulation 
**IGNORE ONLINE PLOTTER - 112     ! 8 X-axis gridpoints
**IGNORE ONLINE PLOTTER - 11     ! 9 Shut off Online w/o removing 
**IGNORE ONLINE PLOTTER - 1-1     ! 10 Logical unit for output file 
**IGNORE ONLINE PLOTTER - 10     ! 11 Output file units
**IGNORE ONLINE PLOTTER - 10     ! 12 Output file delimiter
**IGNORE ONLINE PLOTTER - 1INPUTS 10     
**IGNORE ONLINE PLOTTER - 1T1_Tes2 T2_Tes2 T3_Tes2 T4_Tes2 T5_Tes2 T6_Tes2 T7_Tes2 T8_Tes2 T9_Tes2 T10_Tes2 
**IGNORE ONLINE PLOTTER - 1T1_Tes2 T2_Tes2 T3_Tes2 T4_Tes2 T5_Tes2 T6_Tes2 T7_Tes2 T8_Tes2 T9_Tes2 T10_Tes2 
**IGNORE ONLINE PLOTTER - 1LABELS  3         
**IGNORE ONLINE PLOTTER - 1Temperatures  
**IGNORE ONLINE PLOTTER - 1MassFlows  
**IGNORE ONLINE PLOTTER - 1Tes2
**********************************************************************
** SMA_hourlyMean.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\weather 
**********************************************************************
*******************************
**BEGIN City.dck
*******************************
CONSTANTS 10     
NrCity = 7     ! number of the city dataset, -
Lat = 47.38     ! Latitude, Â°
TambD = -13.2    ! ambient design temperature of heating system, Â°C
TambAvg = 9.99    ! average outdoor temperature, Â°C
dTambAmpl = 9.3     ! amplitude of outside temperature, K
tTambShift = 488     ! Offset of outside air temperature minimum , h
ddTcwOffset = 40     ! time shift of minimum cold water temperature, d
altid = 556     
formatWeatherData = 1! 1 = user format, 2 = Standard weather file in the TMY2 format
unitWeatherData = 108
 ASSIGN "C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\weather\MeteoSwiss\SMA\SMA_hourlyMean.99" unitWeatherData 
**********************************************************************
** weather_data_base.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\weather 
**********************************************************************
*******************************
**BEGIN WeatherData.dck
*******************************
EQUATIONS 11
tAmbDry = [110,1]       !Changed automatically
relHum  = [110,2]	   !Changed automatically
vWind   = [110,3]       !Changed automatically
dirWind = [110,4]       !Changed automatically
pAmb_Pa = [110,5]       !Changed automatically
AISZ = [110,10]         !Changed automatically
AISA = [110,11]         !Changed automatically
IT_H = Max([110,12],0)  !Changed automatically
IB_H = Max([110,13],0)  !Changed automatically
ID_H = [110,14]         !Changed automatically
AI_H = [110,16]         !Changed automatically
EQUATIONS 39
IT_N = [110,18]      !Changed automatically
AI_N = [110,22]      !Changed automatically
IB_N = [110,19] * LT(AI_N,90)      !Changed automatically
IT_S = [110,24]      !Changed automatically
IB_S = [110,25]      !Changed automatically
ID_S = [110,26]+[110,27]       !Changed automatically
AI_S = [110,28]      !Changed automatically
IT_E = [110,30]     !Changed automatically
IB_E = [110,31]      !Changed automatically
ID_E = [110,32]+[110,33]  !Changed automatically
AI_E = [110,34]     !Changed automatically
IT_W = [110,36]     !Changed automatically
IB_W = [110,37]      !Changed automatically
ID_W = [110,38]+[110,39]  !Changed automatically
AI_W = [110,40]      !Changed automatically
IT_surfUser_1 = [110,42]     !Changed automatically
IB_surfUser_1 = [110,43]      !Changed automatically
ID_surfUser_1 = [110,44] +[110,45]  !Changed automatically
IDS_surfUser_1 = [110,44]  !Changed automatically
IDG_surfUser_1 = [110,45]  !Changed automatically
AI_surfUser_1 = [110,46]      !Changed automatically
IT_surfUser_2 = [110,48]      !Changed automatically
IB_surfUser_2 = [110,49]      !Changed automatically
ID_surfUser_2 = [110,50] +[110,51]  !Changed automatically
IDS_surfUser_2 = [110,50]  !Changed automatically
IDG_surfUser_2 = [110,51]  !Changed automatically
AI_surfUser_2 = [110,52]      !Changed automatically
IT_surfUser_3 = [110,54]      !Changed automatically
IB_surfUser_3 = [110,55]   !Changed automatically
ID_surfUser_3 = [110,56] +[110,57]   !Changed automatically
IDS_surfUser_3 = [110,56]  !Changed automatically
IDG_surfUser_3 = [110,57]   !Changed automatically
AI_surfUser_3 = [110,58] !Changed automatically
IT_surfUser_4 = [110,60]      !Changed automatically
IB_surfUser_4 = [110,61]   !Changed automatically
ID_surfUser_4 = [110,62] +[110,63] !Changed automatically
IDS_surfUser_4 = [110,62]  !Changed automatically
IDG_surfUser_4 = [110,63]      !Changed automatically
AI_surfUser_4 = [110,64] !Changed automatically
EQUATIONS 8
IT_surfUser_4_Wm2 = IT_surfUser_4/3.6
IT_surfUser_3_Wm2 = IT_surfUser_3/3.6
IT_surfUser_2_Wm2 = IT_surfUser_2/3.6
IT_surfUser_1_Wm2 = IT_surfUser_1/3.6
IT_S_Wm2 =IT_S/3.6
IT_N_Wm2 =IT_N/3.6
IT_W_Wm2 =IT_W/3.6
IT_E_Wm2 =IT_E/3.6
EQUATIONS 4
IT_H_kW = IT_H/3600  
IB_H_kW = IB_H/3600  
IT_S_kW = IT_S/3600     ! Irradiation on south plane in kW/m2
IB_S_kW = IB_S/3600     ! Direct Irradiation on south plane in kW/m3
EQUATIONS 2
IT_H_Wm2 = IT_H_kW*100  
IB_H_Wm2 = IB_H_KW*100  
EQUATIONS 3    ! pressure conversions
pamb_kPa = pamb_Pa/1000     ! ambient pressure [kPa]
pamb_atm = pamb_kPa/101.325     ! Ambient pressure [atm]
pamb_bar = pamb_kPa/100     ! Ambient pressure [bar]
EQUATIONS 2     
Tsky = [109,1]      !Changed automatically
dTsky = Tsky-Tamb     ! delta-T from sky to ambient (K)
CONSTANTS 8    ! Turn the North,South,East and West orientations with "TURN"
TcwAvg = TambAvg     
TURN = 0.0     
AA_N = 180.0 + TURN     
AA_S = TURN     
AA_E = 270.0      
AA_W = 90.0 + TURN     
groundRef = 0.2
slope90 = 90.0
CONSTANTS 2
myUnitWeatherData   = unitWeatherData   !from the specific weatherFile
myFormatWeatherData = formatWeatherData   !formatWeatherData from the specific weatherFile
CONSTANTS 8  ! Values to be filled up by GUI
slopeSurfUser_1 = 45. ! Slope of surface-5
aziSurfUser_1 = 0.    ! Azimuth of surface-5
slopeSurfUser_2=15.0 ! value changed from original by executeTrnsys.py
aziSurfUser_2=0.0 ! value changed from original by executeTrnsys.py
slopeSurfUser_3 = 10. ! Slope of surface-7
aziSurfUser_3 = 70.    ! Azimuth of surface-7
slopeSurfUser_4 = 10. ! Slope of surface-8
aziSurfUser_4 = 70.    ! Azimuth of surface-8
UNIT 110 TYPE 109  !Changed automatically
PARAMETERS 4
myFormatWeatherData  ! 1 = user format, 2 = Standard weather file in the TMY2 format  FROM CITY...
myUnitWeatherData    ! 2 Logical unit 
4     ! 3 Sky model for diffuse radiation: 1: Isotropic sky model; 2: Hay and Davies model; 3: Reindl model; 4: Perez model
1     ! 4 Tracking mode: 1: Fixed surface; 2: single-axis tracking,vertical axis (fixed slope); 3: single-axis tracking in the plane of the surface; 4 two axis tracking
INPUTS 17 ! these inputs don't accept numbers but variables
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
0,0
groundRef ! ground reflectance
slope90   ! Slope of surface-1
AA_N      ! Azimuth of surface-1
slope90   ! Slope of surface-2
AA_S      ! Azimuth of surface-2
slope90   ! Slope of surface-3
AA_E      ! Azimuth of surface-3
slope90   ! Slope of surface-4
AA_W      ! Azimuth of surface-4
slopeSurfUser_1 ! Slope of surface-5
aziSurfUser_1   ! Azimuth of surface-5
slopeSurfUser_2 ! Slope of surface-6
aziSurfUser_2   ! Azimuth of surface-6
slopeSurfUser_3 ! Slope of surface-7
aziSurfUser_3   ! Azimuth of surface-7
slopeSurfUser_4 ! Slope of surface-8
aziSurfUser_4   ! Azimuth of surface-8
UNIT 111 TYPE 33      !Changed automatically
PARAMETERS 3     
2     ! 1 Psychrometrics mode 2: dry bulb and relative humidity known
1     ! 2 Wet bulb mode 1: calculate wet bulb temperature; 0: do not calculate wet bulb temperature
1     ! 3 Error mode 1: only one warning will be printed for the whole simulation; 2: all warnings will be printed
INPUTS 3     
tAmbDry ! Ambient dry bulb temperature [Â°C]
relHum  ! Relative humidity [0..100]
pamb_atm     ! Ambient pressure [atm]
20 50 1      
EQUATIONS 6     
tAmb_Met = [111,7]       !Changed automatically
tAmbDewPoint = [111,8]      !Changed automatically
RHamb_100 = [111,6]       !Changed automatically
tAmb = Tamb_Met     ! Psychrometrics:Dry bulb temperature
RHamb_1 = RHamb_100/100     
Tcw = MAX(TcwAvg,0.1)     !  Temperature shift cold water, K . We avoid below 0 Â°C
UNIT 109 TYPE 69      !Changed automatically
PARAMETERS 2     
0     ! 1 mode for cloudiness factor
altid     ! 2 height over sea level
INPUTS 4     
tamb_Met        ! Psychrometrics:Dry bulb temperature ->Ambient temperature
tambDewPoint        ! Psychrometrics:Dew point temperature. ->Dew point temperature at ambient conditions
IB_H       ! Weather data:beam radiation on horizontal ->Beam radiation on the horizontal
ID_H      ! Weather data:sky diffuse radiation on horizontal ->Diffuse radiation on the horizontal
0 20 0 0     
CONSTANTS 1
unitPrinterWeather = 113
 EQUATIONS 1
one = 1 ! this is needed to get the total hours per month
ASSIGN temp\WEATHER_BASE_MO.Prt unitPrinterWeather 
UNIT 112 Type 46      !Changed automatically
PARAMETERS 6   
unitPrinterWeather    ! 1: Logical unit number, -
-1     ! 2: Logical unit for monthly summaries, -
1     ! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
-1     ! 4: Printing & integrating interval, h. -1 for monthly integration
1     ! 5: Number of inputs to avoid integration, -
1     ! 6: Output number to avoid integration
INPUTS 40  
Time Tamb tAmbDry relHum vWind dirWind pAmb_Pa AISZ AISA IT_H IB_H ID_H AI_H IT_N AI_N IB_N IT_S IB_S ID_S AI_S IT_E IB_E 
ID_E AI_E IT_W IB_W ID_W AI_W IT_surfUser_1 IB_surfUser_1 ID_surfUser_1 IDS_surfUser_1 IDG_surfUser_1 AI_surfUser_1
IT_surfUser_2 IB_surfUser_2 ID_surfUser_2 IDS_surfUser_2 IDG_surfUser_2 AI_surfUser_2 
Time Tamb tAmbDry relHum vWind dirWind pAmb_Pa AISZ AISA IT_H IB_H ID_H AI_H IT_N AI_N IB_N IT_S IB_S ID_S AI_S IT_E IB_E 
ID_E AI_E IT_W IB_W ID_W AI_W IT_surfUser_1 IB_surfUser_1 ID_surfUser_1 IDS_surfUser_1 IDG_surfUser_1 AI_surfUser_1
IT_surfUser_2 IB_surfUser_2 ID_surfUser_2 IDS_surfUser_2 IDG_surfUser_2 AI_surfUser_2 
**********************************************************************
** dhw_mfh.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\WtTp 
**********************************************************************
*******************************
**BEGIN dhw_mfh.ddck 
*******************************
EQUATIONS 2
Tdhw = TTeeCirc1_WtTp				! Warm water supply temperature from WW heat exchanger or mixing valve [ï¿½C]
MfrDhw = ABS(MTeeCirc1_WtTp)		! Mass flow on consumption side mixed down, kg/h = MfrDHWSet
EQUATIONS 1
qSysOut_DhwDemand = Pdhw_kW
CONSTANTS 1
TcwStd = TcwAvg		! Standard cold water temperature (ï¿½C)   TcwAvg  from weatherData
EQUATIONS 1
MfrDHWset = dtDhwCorrect*MfrDHWreal
CONSTANTS 1
unitReadDhw = 118
 ASSIGN "C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\demands\dhw\profiles\DhwForMFH6appartments_2min_tset55.dat" unitReadDhw 
CONSTANTS 2
scaleDHW = 1
dtDHWdata = 1/30.		! timestep of DHW data-file
EQUATIONS 2
Pdhw_kW = MfrDhw*(Tdhw-Tcw)*CPWAT/3600					! DHW-consumption power [kW]
PdhwTheoretic_kW = MfrDhw*(TdhwSet-Tcw)*CPWAT/3600		! DHW-consumption power [kW]
CONSTANTS 1    
PelPuDHW_kW = 0		! Electricity consumption of DHW pump! [kW]
UNIT 114 TYPE 9		 !Changed automatically
PARAMETERS 26
6     			! 1: Mode
2     			! 2: Header Lines to Skip
5     			! 3: No. of values to read
dtDHWdata		! 4: Time interval of data
-1  1  0  0		! 5: Interpolate (+) or not (-)? 6: Multuplication factor, 7: Addition factor, 8: Average (0) or instantaneous (1) value
-1  1  0  0  	! 5: Interpolate (+) or not (-)? 6: Multuplication factor, 7: Addition factor, 8: Average (0) or instantaneous (1) value
-1  1  0  0  	! 5: Interpolate (+) or not (-)? 6: Multuplication factor, 7: Addition factor, 8: Average (0) or instantaneous (1) value
-1  1  0  0  	! 5: Interpolate (+) or not (-)? 6: Multuplication factor, 7: Addition factor, 8: Average (0) or instantaneous (1) value
-1  1  0  0  	! 5: Interpolate (+) or not (-)? 6: Multuplication factor, 7: Addition factor, 8: Average (0) or instantaneous (1) value
unitReadDhw		! 9: Logical unit for input file
-1           	! 10: Free format mode
EQUATIONS 3     
QDHWstd = [114,3]*scaleDHW			 !Changed automatically
MfrDHWreal = [114,4]*scaleDHW		 !Changed automatically
TdhwSetProfile = [114,5]				 !Changed automatically
EQUATIONS 3
dtDhwCorrect = (TdhwSet-TcwStd)/(TdhwSet-Tcw)
TdhwHxSet = TdhwSet+ 0.1							! Setpoint for heat exchanger control (if present), ï¿½C
PdhwIdeal_kW = QDHWstd*dtDhwCorrect/dtDHWdata		! ideal draw off power, kW
EQUATIONS 5		! post calculations of DHW loop
dTdhwFlow = GT(MfrDHWset,0)*(TdhwSet-Tdhw)				! missed temperature of warm water, K
TDHWBkp = Tdhw
dTdhwAux = MAX(0,(TdhwSet-TDHWBkp))     
PpenDHW_kW = 1.5*MfrDHWset*CPWAT*dTdhwFlow/3600
PhxDloss_kW = 0											! losses of external DHW module, kW
CONSTANTS 1
unitPrinterDHW = 119
ASSIGN temp\DHW_MO.Prt unitPrinterDHW 
UNIT 116 TYPE 46		 !Changed automatically
PARAMETERS 5     
unitPrinterDHW		! 1: Logical unit number, -
-1     				! 2: Logical unit for monthly summaries, -
1     				! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
-1     				! 4: Printing & integrating interval, h. -1 for monthly integration
0     				! 5: Number of inputs to avoid integration, -
INPUTS 5
Time  Pdhw_kW  PpenDHW_kW  PelPuDHW_kW  PdhwIdeal_kW        
Time  Pdhw_kW  PpenDHW_kW  PelPuDHW_kW  PdhwIdeal_kW 
CONSTANTS 1
unitHourlyDHW = 120
ASSIGN temp\DHW_HR.Prt unitHourlyDHW 
UNIT 117 TYPE 46		 !Changed automatically
PARAMETERS 6   
unitHourlyDHW		! 1: Logical unit number, -
-1     				! 2: Logical unit for monthly summaries, -
1     				! 3: Relative or absolute start time. 0: print at time intervals relative to the simulation start time. 1: print at absolute time intervals. No effect for monthly integrations
1     				! 4: Printing & integrating interval, h. -1 for monthly integration
1     				! 5: Number of inputs to avoid integration, -
1					! 6: Output number to avoid integration
INPUTS 5
Tdhw Pdhw_kW  PpenDHW_kW  PelPuDHW_kW  PdhwIdeal_kW          
Tdhw Pdhw_kW  PpenDHW_kW  PelPuDHW_kW  PdhwIdeal_kW
**IGNORE ONLINE PLOTTER - 1** IGNORE ONLINE PLOTTER - UNIT 115 TYPE 65		 !Changed automatically
**IGNORE ONLINE PLOTTER - 1PARAMETERS 12     
**IGNORE ONLINE PLOTTER - 11     				! 1: Nb. of left-axis variables
**IGNORE ONLINE PLOTTER - 11     				! 2: Nb. of right-axis variables
**IGNORE ONLINE PLOTTER - 10     				! 3: Left axis minimum
**IGNORE ONLINE PLOTTER - 1300     			! 4: Left axis maximum
**IGNORE ONLINE PLOTTER - 10     				! 5: Right axis minimum
**IGNORE ONLINE PLOTTER - 160     				! 6: Right axis maximum
**IGNORE ONLINE PLOTTER - 1nPlotsPerSim		! 7: Number of plots per simulation
**IGNORE ONLINE PLOTTER - 112     				! 8: X-axis gridpoints
**IGNORE ONLINE PLOTTER - 11     				! 9: Shut off Online w/o removing
**IGNORE ONLINE PLOTTER - 1-1     				! 10: Logical unit for output file
**IGNORE ONLINE PLOTTER - 10					! 11: Output file units
**IGNORE ONLINE PLOTTER - 10     				! 12: Output file delimiter
**IGNORE ONLINE PLOTTER - 1INPUTS 2    
**IGNORE ONLINE PLOTTER - 1MfrDhw  
**IGNORE ONLINE PLOTTER - 1Tdhw 
**IGNORE ONLINE PLOTTER - 1MfrDhw  
**IGNORE ONLINE PLOTTER - 1Tdhw 
**IGNORE ONLINE PLOTTER - 1LABELS  3     
**IGNORE ONLINE PLOTTER - 1massFlow
**IGNORE ONLINE PLOTTER - 1Temperatures     
**IGNORE ONLINE PLOTTER - 1DHW-Hyd
**********************************************************************
** end.ddck from C:\GIT\pytrnsys_gui\data\examples\PvAshpDhwShMfh\ddck\generic 
**********************************************************************
***************************************************************
**BEGIN Monthly Energy Balance printer automatically generated from DDck files
***************************************************************
EQUATIONS 1
qImb =  + elSysIn_Q_HpCompD - qSysOut_HpLoss + qSysIn_PauxEvap - qSysOut_PipeLoss - qSysOut_CiBuiSH - qSysOut_CiBui - qSysOut_CiLoss - qSysOut_BuiDemand + qSysIn_BuiDemand - qSysOut_TesDhwLoss - qSysOut_TesDhwAcum + elSysIn_Q_TesDhwAux - qSysOut_TesShLoss - qSysOut_TesShAcum + elSysIn_Q_TesShAux - qSysOut_DhwDemand
CONSTANTS 1
unitPrintEBal=121
ASSIGN temp\ENERGY_BALANCE_MO.Prt unitPrintEBal 
UNIT 121 Type 46
PARAMETERS 6
unitPrintEBal !1: Logical unit number
-1 !2: for monthly summaries
1  !3: 1:print at absolute times
-1 !4 -1: monthly integration
1  !5 number of outputs to avoid integration
1  !6 output number to avoid integration
INPUTS 26
TIME elSysIn_Q_HpCompD qSysOut_HpLoss qSysIn_PauxEvap elSysOut_CtrlDemand qSysOut_PipeLoss elSysOut_HHDemand elSysIn_Grid elSysOut_PvToGrid elSysOut_InvLoss PelLossesDCAC elSysIn_PV qSysOut_CiBuiSH qSysOut_CiBui qSysOut_CiLoss qSysOut_BuiDemand qSysIn_BuiDemand elSysOut_PuShDemand	 qSysOut_TesDhwLoss qSysOut_TesDhwAcum elSysIn_Q_TesDhwAux qSysOut_TesShLoss qSysOut_TesShAcum elSysIn_Q_TesShAux qSysOut_DhwDemand qImb
*******************************
TIME elSysIn_Q_HpCompD qSysOut_HpLoss qSysIn_PauxEvap elSysOut_CtrlDemand qSysOut_PipeLoss elSysOut_HHDemand elSysIn_Grid elSysOut_PvToGrid elSysOut_InvLoss PelLossesDCAC elSysIn_PV qSysOut_CiBuiSH qSysOut_CiBui qSysOut_CiLoss qSysOut_BuiDemand qSysIn_BuiDemand elSysOut_PuShDemand	 qSysOut_TesDhwLoss qSysOut_TesDhwAcum elSysIn_Q_TesDhwAux qSysOut_TesShLoss qSysOut_TesShAcum elSysIn_Q_TesShAux qSysOut_DhwDemand qImb
***************************************************************
**BEGIN Hourly Energy Balance printer automatically generated from DDck files
***************************************************************
CONSTANTS 1
unitPrintEBal_h=122
ASSIGN temp\ENERGY_BALANCE_HR.Prt unitPrintEBal_h 
UNIT 122 Type 46
PARAMETERS 6
unitPrintEBal_h !1: Logical unit number
-1 !2: for monthly summaries
1  !3: 1:print at absolute times
1 !4 1: hourly integration
1  !5 number of outputs to avoid integration
1  !6 output number to avoid integration
INPUTS 26
TIME elSysIn_Q_HpCompD qSysOut_HpLoss qSysIn_PauxEvap elSysOut_CtrlDemand qSysOut_PipeLoss elSysOut_HHDemand elSysIn_Grid elSysOut_PvToGrid elSysOut_InvLoss PelLossesDCAC elSysIn_PV qSysOut_CiBuiSH qSysOut_CiBui qSysOut_CiLoss qSysOut_BuiDemand qSysIn_BuiDemand elSysOut_PuShDemand	 qSysOut_TesDhwLoss qSysOut_TesDhwAcum elSysIn_Q_TesDhwAux qSysOut_TesShLoss qSysOut_TesShAcum elSysIn_Q_TesShAux qSysOut_DhwDemand qImb
*******************************
TIME elSysIn_Q_HpCompD qSysOut_HpLoss qSysIn_PauxEvap elSysOut_CtrlDemand qSysOut_PipeLoss elSysOut_HHDemand elSysIn_Grid elSysOut_PvToGrid elSysOut_InvLoss PelLossesDCAC elSysIn_PV qSysOut_CiBuiSH qSysOut_CiBui qSysOut_CiLoss qSysOut_BuiDemand qSysIn_BuiDemand elSysOut_PuShDemand	 qSysOut_TesDhwLoss qSysOut_TesDhwAcum elSysIn_Q_TesDhwAux qSysOut_TesShLoss qSysOut_TesShAcum elSysIn_Q_TesShAux qSysOut_DhwDemand qImb
*******************************
**BEGIN Head.ddck
*******************************
END
